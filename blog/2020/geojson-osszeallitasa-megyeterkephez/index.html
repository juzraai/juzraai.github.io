<!DOCTYPE html> <html lang="hu"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta http-equiv="X-UA-Compatible" content="ie=edge"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>GeoJSON √∂ssze√°ll√≠t√°sa megyet√©rk√©phez | Zsolt Jur√°nyi (juzraai)</title> <meta name="generator" content="Jekyll v4.1.1" /> <meta property="og:title" content="GeoJSON √∂ssze√°ll√≠t√°sa megyet√©rk√©phez" /> <meta name="author" content="Zsolt Jur√°nyi" /> <meta property="og:locale" content="hu_HU" /> <meta name="description" content="Interakt√≠v megyet√©rk√©pet √©rdemes lehet Leaflet-tel k√©sz√≠teni, ehhez viszont kellenek a megy√©k GeoJSON adatai, √∂sszef≈±zve. Ezt a feladatot automatiz√°ltam egy Node.js szkripttel." /> <meta property="og:description" content="Interakt√≠v megyet√©rk√©pet √©rdemes lehet Leaflet-tel k√©sz√≠teni, ehhez viszont kellenek a megy√©k GeoJSON adatai, √∂sszef≈±zve. Ezt a feladatot automatiz√°ltam egy Node.js szkripttel." /> <link rel="canonical" href="https://juzraai.github.io/blog/2020/geojson-osszeallitasa-megyeterkephez/" /> <meta property="og:url" content="https://juzraai.github.io/blog/2020/geojson-osszeallitasa-megyeterkephez/" /> <meta property="og:site_name" content="Zsolt Jur√°nyi (juzraai)" /> <meta property="og:image" content="https://juzraai.github.io/assets/facebook-og-image.png" /> <meta property="og:image:height" content="630" /> <meta property="og:image:width" content="1200" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2020-07-19T00:00:00+02:00" /> <script type="application/ld+json"> {"dateModified":"2020-07-23T18:15:49+02:00","datePublished":"2020-07-19T00:00:00+02:00","headline":"GeoJSON √∂ssze√°ll√≠t√°sa megyet√©rk√©phez","mainEntityOfPage":{"@type":"WebPage","@id":"https://juzraai.github.io/blog/2020/geojson-osszeallitasa-megyeterkephez/"},"author":{"@type":"Person","name":"Zsolt Jur√°nyi"},"image":{"width":1200,"height":630,"url":"https://juzraai.github.io/assets/facebook-og-image.png","@type":"imageObject"},"description":"Interakt√≠v megyet√©rk√©pet √©rdemes lehet Leaflet-tel k√©sz√≠teni, ehhez viszont kellenek a megy√©k GeoJSON adatai, √∂sszef≈±zve. Ezt a feladatot automatiz√°ltam egy Node.js szkripttel.","url":"https://juzraai.github.io/blog/2020/geojson-osszeallitasa-megyeterkephez/","@type":"BlogPosting","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <meta property="og:image:type" content="image/png" /> <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"> <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"> <link rel="manifest" href="/site.webmanifest"> <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#016fb9"> <meta name="msapplication-TileColor" content="#016fb9"> <meta name="theme-color" content="#016fb9"> <link type="application/atom+xml" rel="alternate" href="https://juzraai.github.io/feed.xml" title="Zsolt Jur√°nyi (juzraai)" /> <link rel="dns-prefetch" href="//fonts.googleapis.com/"> <link rel="dns-prefetch" href="//cdnjs.cloudflare.com"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Barlow+Condensed:300,300i,400,500,600|Inconsolata:400,700&amp;subset=latin-ext" /> <link rel="stylesheet" href="/assets/page.css" /> </head> <body> <nav class="navbar navbar-expand-lg navbar-dark bg-dark"> <div class="container"> <a class="navbar-brand" href="/">Zsolt</a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <div class="collapse navbar-collapse" id="navbarSupportedContent"> <ul class="navbar-nav mr-auto w-100"> <li class="nav-item"> <a class="nav-link" href="/projects/hu/" target="">Munk√°im</a> </li> <li class="nav-item"> <a class="nav-link" href="/blog/hu/" target="">Feljegyz√©seim</a> </li> <li class="nav-item"> <a class="nav-link" href="https://github.com/juzraai" target="_blank">GitHub</a> </li> <li class="nav-item"> <a class="nav-link" href="/contact/hu/" target="">Kontakt</a> </li> </ul> </div> </div> </nav> <div class="container"> <div class="row my-5 border-bottom"> <div class="col"> <div class="mb-3 text-muted"> Jul 19, 2020 / <a class="d-inline-block mr-1 mb-1" href="/blog/hu/tag/automation/">#automation</a> <a class="d-inline-block mr-1 mb-1" href="/blog/hu/tag/choropleth/">#choropleth</a> <a class="d-inline-block mr-1 mb-1" href="/blog/hu/tag/geojson/">#geojson</a> <a class="d-inline-block mr-1 mb-1" href="/blog/hu/tag/leaflet/">#leaflet</a> <a class="d-inline-block mr-1 mb-1" href="/blog/hu/tag/map/">#map</a> <a class="d-inline-block mr-1 mb-1" href="/blog/hu/tag/nodejs/">#nodejs</a> <a class="d-inline-block mr-1 mb-1" href="/blog/hu/tag/script/">#script</a> </div> <h1>GeoJSON √∂ssze√°ll√≠t√°sa megyet√©rk√©phez</h1> </div> </div> <div class="row"> <div class="col content"> <p>Adott a feladat, hogy egy weboldalon megjelen√≠ts√ºk <strong>kis haz√°nk megyet√©rk√©p√©t, valamilyen √©rt√©k szerinti sz√≠nez√©ssel.</strong> Hogyan fogjunk neki?</p> <p>P√°r √©ve - jobb √∂tlet hi√°ny√°ban - √©n erre mindig r√°v√°gtam, hogy a Wikip√©di√°n fent van <a href="https://hu.wikipedia.org/wiki/F%C3%A1jl:HU_counties_colored.svg">Magyarorsz√°g megyet√©rk√©pe SVG-ben</a>, ahol az egyes megy√©knek van <code class="language-plaintext highlighter-rouge">id</code> attrib√∫tuma. Ut√≥bbi alapj√°n egyszer≈± ≈ëket CSS √©s JS seg√≠ts√©g√©vel form√°zni √©s interakt√≠vv√° tenni (pl. hover, click). Persze ezzel SVG-s megold√°ssal macer√°s megoldani a zoom-ot, a dragging-et, illetve ha k√©s≈ëbb kital√°ljuk, hogy v√°rosokat is r√° k√©ne dob√°lni, val√≥sz√≠n≈±leg meg vagyunk l≈ëve.</p> <p>Itt j√∂n k√©pbe a <a href="https://leafletjs.com/">Leaflet.js</a> library, amivel piszok egyszer≈±en lehet <strong>interakt√≠v t√©rk√©peket kre√°lni webes k√∂rnyezetben.</strong> SVG-t √©p√≠t ≈ë is, de a fenti funkci√≥kat √©s m√©g csilli√≥ m√°s dolgot megval√≥s√≠t nek√ºnk. A drag mellett t√∂bbf√©le zoom lehet≈ës√©get √©s k√∂nnyen hozz√°adhat√≥ vez√©rl≈ëket, tooltip-eket, popup-okat biztos√≠t, illetve t√∂bb r√©teget tud kezelni egym√°sra pakolva.</p> <p>Interakt√≠v megyet√©rk√©phez van egy remek <a href="https://leafletjs.com/examples/choropleth/">√∫tmutat√≥juk</a> is, jelen posztommal ezt eg√©sz√≠ten√©m ki. üôÇ</p> <p>Ez a Choropleth tutorial USA adatok bemutat√°s√°r√≥l sz√≥l, az √°llamokat <strong>GeoJSON form√°ban adagolja be a Leaflet-nek.</strong> A GeoJSON f√∂ldrajzi adatokat √≠r le, de kieg√©sz√≠thet≈ë egy√©b adatokkal is, melyeket a t√©rk√©p testreszab√°sakor felhaszn√°lhatunk. A cikkben nem √≠rj√°k le, hogy az amerikai √°llamokat tartalmaz√≥ GeoJSON-t hogyan √°ll√≠tott√°k √∂ssze, √≠gy kicsit kutatnom kellett, hogyan tehetem meg ugyanezt Magyarorsz√°g megy√©ivel.</p> <p>R√°kerestem <strong>Magyarorsz√°g megy√©ire</strong> OpenStreetMap viszonylatban, √©s ezt a <a href="https://wiki.openstreetmap.org/wiki/Hungary/Boundaries#Megy.C3.A9k">Boundaries</a> oldalt tal√°ltam, ahol mind fel vannak sorolva egy-egy <strong>OSM relation ID k√≠s√©ret√©ben.</strong> Ezeket a relation-√∂ket meg lehet tekinteni a t√©rk√©pen, amely mutatja a megye hat√°rvonal√°t.</p> <p>M√°r csak az kell, hogy ezt a hat√°rvonalat megkapjuk GeoJSON form√°tumban. Fel√ºt√∂ttem a guglit erre a k√©rd√©sre is, √©s <a href="https://peteris.rocks/blog/openstreetmap-administrative-boundaries-in-geojson/">erre a cikkre</a> akadtam r√°, mely megmondja az egyszer≈± megold√°st. Az al√°bbi URL-r≈ël <strong>let√∂lthet≈ë az X azonos√≠t√≥j√∫ relation GeoJSON f√°jlja:</strong></p> <blockquote> <p>http://polygons.openstreetmap.fr/get_geojson.py?id=<span style="color:red">X</span>&amp;params=0</p> </blockquote> <p>Az ID-k √©s a hozz√°juk tartoz√≥ GeoJSON-√∂k legy≈±jt√©se ut√°n persze ut√≥bbiakat <strong>√∂ssze kell f≈±zni egy darab GeoJSON-be</strong> √∫gy, hogy a megy√©khez kapott adatot becsomagoljuk <code class="language-plaintext highlighter-rouge">Feature</code> objektumokba, majd az √∂sszeset egy <code class="language-plaintext highlighter-rouge">FeatureCollection</code>-be.</p> <p>√ârdekess√©g, hogy a let√∂lt√∂tt GeoJSON-ok nem teljesen validak, ugyanis <code class="language-plaintext highlighter-rouge">GeometryCollection</code>-t √≠rnak le, de csak egyetlen elemmel, amire a <a href="https://geojsonlint.com/">valid√°tor</a> visszapof√°zik. A megold√°s az, hogy ki kell b√∫jtani azt az egyetlen elemet a collection-b≈ël.</p> <p>A fentieket term√©szetesen nem bonyolult automatiz√°lni. √çme egy Node.js szkript, ami legy≈±jti Magyarorsz√°g megy√©it √©s egyetlen GeoJSON-ba f≈±zi ≈ëket:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// npm i cheerio got</span>

<span class="kd">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">cheerio</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cheerio</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">got</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">got</span><span class="dl">'</span><span class="p">)</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getCountyOsmIds</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">got</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://wiki.openstreetmap.org/wiki/Hungary/Boundaries</span><span class="dl">'</span><span class="p">)</span>
	<span class="kd">const</span> <span class="nx">$</span> <span class="o">=</span> <span class="nx">cheerio</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span>
	<span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">h2:contains("Megy√©k") + table tr</span><span class="dl">'</span><span class="p">).</span><span class="nx">toArray</span><span class="p">().</span><span class="nx">map</span><span class="p">(</span><span class="nx">tr</span> <span class="o">=&gt;</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">td a</span><span class="dl">'</span><span class="p">,</span> <span class="nx">tr</span><span class="p">).</span><span class="nx">toArray</span><span class="p">().</span><span class="nx">map</span><span class="p">(</span><span class="nx">a</span> <span class="o">=&gt;</span> <span class="nx">$</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">text</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span>
	<span class="p">}).</span><span class="nx">filter</span><span class="p">(</span><span class="nx">id</span> <span class="o">=&gt;</span> <span class="nx">id</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">downloadGeoJson</span><span class="p">(</span><span class="nx">osmId</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="nx">geoJsonUrlTemplate</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">http://polygons.openstreetmap.fr/get_geojson.py?id=X&amp;params=0</span><span class="dl">'</span>
	<span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">got</span><span class="p">(</span><span class="nx">geoJsonUrlTemplate</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="dl">'</span><span class="s1">X</span><span class="dl">'</span><span class="p">,</span> <span class="nx">osmId</span><span class="p">))</span>
	<span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getGeoJson</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="nx">file</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">.json`</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">fs</span><span class="p">.</span><span class="nx">existsSync</span><span class="p">(</span><span class="nx">file</span><span class="p">))</span> <span class="k">return</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">file</span><span class="p">)</span>
	<span class="kd">const</span> <span class="nx">json</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">downloadGeoJson</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
	<span class="nx">fs</span><span class="p">.</span><span class="nx">writeFileSync</span><span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="nx">json</span><span class="p">)</span>
	<span class="k">return</span> <span class="nx">json</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">fixGeometryCollection</span><span class="p">(</span><span class="nx">geometry</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">GeometryCollection</span><span class="dl">'</span> <span class="o">&amp;&amp;</span> <span class="nx">geometry</span><span class="p">.</span><span class="nx">geometries</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">geometry</span><span class="p">.</span><span class="nx">geometries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nx">geometry</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">feature</span><span class="p">(</span><span class="nx">geometry</span><span class="p">,</span> <span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="p">{</span>
		<span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Feature</span><span class="dl">'</span><span class="p">,</span>
		<span class="na">properties</span><span class="p">:</span> <span class="p">{</span> <span class="nx">id</span> <span class="p">},</span> <span class="c1">// will be useful :)</span>
		<span class="na">geometry</span><span class="p">:</span> <span class="nx">fixGeometryCollection</span><span class="p">(</span><span class="nx">geometry</span><span class="p">)</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getFeature</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="nx">geometryJson</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getGeoJson</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
	<span class="kd">const</span> <span class="nx">geometry</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">geometryJson</span><span class="p">)</span>
	<span class="k">return</span> <span class="nx">feature</span><span class="p">(</span><span class="nx">geometry</span><span class="p">,</span> <span class="nx">id</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">featureCollection</span><span class="p">(</span><span class="nx">features</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">FeatureCollection</span><span class="dl">'</span><span class="p">,</span> <span class="nx">features</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">generateFeatureCollection</span><span class="p">(</span><span class="nx">ids</span><span class="p">,</span> <span class="nx">file</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="nx">features</span> <span class="o">=</span> <span class="k">await</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="nx">ids</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">getFeature</span><span class="p">))</span>
	<span class="nx">fs</span><span class="p">.</span><span class="nx">writeFileSync</span><span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">featureCollection</span><span class="p">(</span><span class="nx">features</span><span class="p">)))</span>
<span class="p">}</span>

<span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="nx">ids</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getCountyOsmIds</span><span class="p">()</span>
	<span class="k">await</span> <span class="nx">generateFeatureCollection</span><span class="p">(</span><span class="nx">ids</span><span class="p">,</span> <span class="dl">'</span><span class="s1">counties.json</span><span class="dl">'</span><span class="p">)</span>
<span class="p">})()</span>
</code></pre></div></div> <p>A fenti szkripttel kapott GeoJSON egy-az-egyben hozz√°adhat√≥ a Leaflet t√©rk√©phez, ahogy a fentebb linkelt Choropleth tutorial-ban le van √≠rva. Ott a megyei adatokat is beleapplik√°lt√°k a GeoJSON f√°jlba, √©n ink√°bb csak a megy√©hez tartoz√≥ OSM relation ID-t tettem bele, √≠gy b√°rmilyen projekthez j√≥ lesz az √∂ssze√°ll√≠tott <code class="language-plaintext highlighter-rouge">FeatureCollection</code>. Kliensoldalon nem lesz kunszt √∂sszek√∂tni a <code class="language-plaintext highlighter-rouge">feature.properties.id</code>-t az √©pp aktu√°lis adatokkal √©s a megy√©k nev√©vel.</p> <p>Hasonl√≥ m√≥dszerrel r√° tudjuk dobni a t√©rk√©p√ºnkre Budapest ker√ºleteit, vagy ak√°r a szomsz√©dos orsz√°gokat is.</p> </div> </div> <div class="row mt-3"> <div class="col text-center"> <script> if (!window.scripts) window.scripts = []; window.scripts = window.scripts.concat('https://connect.facebook.net/hu_HU/sdk.js#xfbml=1&version=v3.0'); </script> <div class="fb-like" data-href="https://juzraai.github.io/blog/2020/geojson-osszeallitasa-megyeterkephez/" data-layout="button_count" data-action="like" data-size="large" data-show-faces="false" data-share="true"></div> </div> </div> <div class="row my-5 border-top"> <div class="col-md-8 mt-3"> <big class="font-weight-normal text-dark"> <strong>Zsolt vagyok,</strong> full-stack fejleszt≈ë. </big> <br> Crawlereket, webalkalmaz√°sokat, statikus honlapokat √©s interakt√≠v vizualiz√°ci√≥kat k√©sz√≠tek. </div> <div class="col mt-3 small"> <ul class="list-unstyled d-flex d-md-block pl-md-3"> <li class="mr-3 mr-md-0"><a href="/projects/hu/" target="">Munk√°im</a></li> <li class="mr-3 mr-md-0"><a href="/blog/hu/" target="">Feljegyz√©seim</a></li> <li class="mr-3 mr-md-0"><a href="https://github.com/juzraai" target="_blank">GitHub</a></li> <li class="mr-3 mr-md-0"><a href="/contact/hu/" target="">Kontakt</a></li> </ul> </div> </div> <div class="row"> <div class="col mb-3 small text-center text-muted"> Copyright &copy; 2020 Zsolt Jur√°nyi | All rights reserved. </div> </div> </div> <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script> <script>$(function () { $('a[href^=http]').attr('target', '_blank'); })</script> <script> if (!window.scripts) window.scripts = []; window.scripts = window.scripts.concat('https://www.googletagmanager.com/gtag/js?id=UA-41050675-1'); window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-41050675-1', { 'anonymize_ip': true }); </script> <div id="cc" style="display:none"> <div class="c" onclick="ccClear()"></div> <div class="p"> <p> A honlap helyes m≈±k√∂d√©s√©hez √©s n√©mi statisztik√°hoz szeretn√©k s√ºtiket haszn√°lni. <a href="/privacy/hu/">R√©szletek</a> </p> <div class="r"> <a href="javascript:void(0)" onclick="ccDeny()">Elrejt√©s</a> <a class="b" href="javascript:void(0)" onclick="ccAllow()">Enged√©lyezem</a> </div> </div> </div> <script> /* js-cookie v2.2.0 */ !function(e){var n=!1;if("function"==typeof define&&define.amd&&(define(e),n=!0),"object"==typeof exports&&(module.exports=e(),n=!0),!n){var o=window.Cookies,t=window.Cookies=e();t.noConflict=function(){return window.Cookies=o,t}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var t in o)n[t]=o[t]}return n}function n(o){function t(n,r,i){var c;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},t.defaults,i)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{/^[\{\[]/.test(c=JSON.stringify(r))&&(r=c)}catch(e){}r=o.write?o.write(r,n):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=(n=(n=encodeURIComponent(String(n))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var s="";for(var f in i)i[f]&&(s+="; "+f,!0!==i[f]&&(s+="="+i[f]));return document.cookie=n+"="+r+s}n||(c={});for(var p=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,u=0;u<p.length;u++){var l=p[u].split("="),C=l.slice(1).join("=");this.json||'"'!==C.charAt(0)||(C=C.slice(1,-1));try{var g=l[0].replace(d,decodeURIComponent);if(C=o.read?o.read(C,g):o(C,g)||C.replace(d,decodeURIComponent),this.json)try{C=JSON.parse(C)}catch(e){}if(n===g){c=C;break}n||(c[g]=C)}catch(e){}}return c}}return t.set=t,t.get=function(e){return t.call(t,e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(n,o){t(n,"",e(o,{expires:-1}))},t.withConverter=n,t}return n(function(){})}); function addClass(element, className) { element.className += ' ' + className; } function removeClass(element, className) { element.className = element.className.replace( new RegExp('( |^)' + className + '( |$)', 'g'), ' ').trim(); } var c = 'juzraai-cc-v1'; function ccInit() { var v = Cookies.get(c); var e = document.getElementById('cc'); if ('allow' == v) { e.style.display = 'none'; ccLoadScripts(); } else { if ('deny' == v) { addClass(e, 'small'); } else { removeClass(e, 'small'); } e.style.display = null; } } function ccAllow() { Cookies.set(c, 'allow', { expires: 365 }); ccInit(); } function ccClear() { Cookies.remove(c); ccInit(); } function ccDeny() { Cookies.set(c, 'deny', { expires: 7 }); ccInit(); } function ccLoadScripts() { if (!window.scripts) window.scripts = []; for (var i = 0; i < window.scripts.length; i++) { var script = document.createElement('script'); script.src = window.scripts[i]; document.body.appendChild(script); } } ccInit(); </script> </body> </html>
