<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="hu_HU"><generator uri="https://jekyllrb.com/" version="4.1.1">Jekyll</generator><link href="https://juzraai.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://juzraai.github.io/" rel="alternate" type="text/html" hreflang="hu_HU" /><updated>2023-09-24T10:30:00-05:00</updated><id>https://juzraai.github.io/feed.xml</id><title type="html">Zsolt Jur√°nyi (juzraai)</title><subtitle>Zsolt vagyok, full-stack fejleszt≈ë. Crawlereket, webalkalmaz√°sokat, statikus honlapokat √©s interakt√≠v vizualiz√°ci√≥kat k√©sz√≠tek.</subtitle><author><name>Zsolt Jur√°nyi</name></author><entry xml:lang="hu_HU"><title type="html">GeoJSON √∂ssze√°ll√≠t√°sa megyet√©rk√©phez</title><link href="https://juzraai.github.io/blog/2020/geojson-osszeallitasa-megyeterkephez/" rel="alternate" type="text/html" title="GeoJSON √∂ssze√°ll√≠t√°sa megyet√©rk√©phez" /><published>2020-07-19T00:00:00-05:00</published><updated>2020-07-23T11:16:03-05:00</updated><id>https://juzraai.github.io/blog/2020/geojson-osszeallitasa-megyeterkephez</id><content type="html" xml:base="https://juzraai.github.io/blog/2020/geojson-osszeallitasa-megyeterkephez/">&lt;p&gt;Adott a feladat, hogy egy weboldalon megjelen√≠ts√ºk &lt;strong&gt;kis haz√°nk megyet√©rk√©p√©t, valamilyen √©rt√©k szerinti sz√≠nez√©ssel.&lt;/strong&gt; Hogyan fogjunk neki?&lt;/p&gt;

&lt;p&gt;P√°r √©ve - jobb √∂tlet hi√°ny√°ban - √©n erre mindig r√°v√°gtam, hogy a Wikip√©di√°n fent van &lt;a href=&quot;https://hu.wikipedia.org/wiki/F%C3%A1jl:HU_counties_colored.svg&quot;&gt;Magyarorsz√°g megyet√©rk√©pe SVG-ben&lt;/a&gt;, ahol az egyes megy√©knek van &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id&lt;/code&gt; attrib√∫tuma. Ut√≥bbi alapj√°n egyszer≈± ≈ëket CSS √©s JS seg√≠ts√©g√©vel form√°zni √©s interakt√≠vv√° tenni (pl. hover, click). Persze ezzel SVG-s megold√°ssal macer√°s megoldani a zoom-ot, a dragging-et, illetve ha k√©s≈ëbb kital√°ljuk, hogy v√°rosokat is r√° k√©ne dob√°lni, val√≥sz√≠n≈±leg meg vagyunk l≈ëve.&lt;/p&gt;

&lt;p&gt;Itt j√∂n k√©pbe a &lt;a href=&quot;https://leafletjs.com/&quot;&gt;Leaflet.js&lt;/a&gt; library, amivel piszok egyszer≈±en lehet &lt;strong&gt;interakt√≠v t√©rk√©peket kre√°lni webes k√∂rnyezetben.&lt;/strong&gt; SVG-t √©p√≠t ≈ë is, de a fenti funkci√≥kat √©s m√©g csilli√≥ m√°s dolgot megval√≥s√≠t nek√ºnk. A drag mellett t√∂bbf√©le zoom lehet≈ës√©get √©s k√∂nnyen hozz√°adhat√≥ vez√©rl≈ëket, tooltip-eket, popup-okat biztos√≠t, illetve t√∂bb r√©teget tud kezelni egym√°sra pakolva.&lt;/p&gt;

&lt;p&gt;Interakt√≠v megyet√©rk√©phez van egy remek &lt;a href=&quot;https://leafletjs.com/examples/choropleth/&quot;&gt;√∫tmutat√≥juk&lt;/a&gt; is, jelen posztommal ezt eg√©sz√≠ten√©m ki. üôÇ&lt;/p&gt;

&lt;p&gt;Ez a Choropleth tutorial USA adatok bemutat√°s√°r√≥l sz√≥l, az √°llamokat &lt;strong&gt;GeoJSON form√°ban adagolja be a Leaflet-nek.&lt;/strong&gt; A GeoJSON f√∂ldrajzi adatokat √≠r le, de kieg√©sz√≠thet≈ë egy√©b adatokkal is, melyeket a t√©rk√©p testreszab√°sakor felhaszn√°lhatunk. A cikkben nem √≠rj√°k le, hogy az amerikai √°llamokat tartalmaz√≥ GeoJSON-t hogyan √°ll√≠tott√°k √∂ssze, √≠gy kicsit kutatnom kellett, hogyan tehetem meg ugyanezt Magyarorsz√°g megy√©ivel.&lt;/p&gt;

&lt;p&gt;R√°kerestem &lt;strong&gt;Magyarorsz√°g megy√©ire&lt;/strong&gt; OpenStreetMap viszonylatban, √©s ezt a &lt;a href=&quot;https://wiki.openstreetmap.org/wiki/Hungary/Boundaries#Megy.C3.A9k&quot;&gt;Boundaries&lt;/a&gt; oldalt tal√°ltam, ahol mind fel vannak sorolva egy-egy &lt;strong&gt;OSM relation ID k√≠s√©ret√©ben.&lt;/strong&gt; Ezeket a relation-√∂ket meg lehet tekinteni a t√©rk√©pen, amely mutatja a megye hat√°rvonal√°t.&lt;/p&gt;

&lt;p&gt;M√°r csak az kell, hogy ezt a hat√°rvonalat megkapjuk GeoJSON form√°tumban. Fel√ºt√∂ttem a guglit erre a k√©rd√©sre is, √©s &lt;a href=&quot;https://peteris.rocks/blog/openstreetmap-administrative-boundaries-in-geojson/&quot;&gt;erre a cikkre&lt;/a&gt; akadtam r√°, mely megmondja az egyszer≈± megold√°st. Az al√°bbi URL-r≈ël &lt;strong&gt;let√∂lthet≈ë az X azonos√≠t√≥j√∫ relation GeoJSON f√°jlja:&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;http://polygons.openstreetmap.fr/get_geojson.py?id=&lt;span style=&quot;color:red&quot;&gt;X&lt;/span&gt;&amp;amp;params=0&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Az ID-k √©s a hozz√°juk tartoz√≥ GeoJSON-√∂k legy≈±jt√©se ut√°n persze ut√≥bbiakat &lt;strong&gt;√∂ssze kell f≈±zni egy darab GeoJSON-be&lt;/strong&gt; √∫gy, hogy a megy√©khez kapott adatot becsomagoljuk &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Feature&lt;/code&gt; objektumokba, majd az √∂sszeset egy &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FeatureCollection&lt;/code&gt;-be.&lt;/p&gt;

&lt;p&gt;√ârdekess√©g, hogy a let√∂lt√∂tt GeoJSON-ok nem teljesen validak, ugyanis &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GeometryCollection&lt;/code&gt;-t √≠rnak le, de csak egyetlen elemmel, amire a &lt;a href=&quot;https://geojsonlint.com/&quot;&gt;valid√°tor&lt;/a&gt; visszapof√°zik. A megold√°s az, hogy ki kell b√∫jtani azt az egyetlen elemet a collection-b≈ël.&lt;/p&gt;

&lt;p&gt;A fentieket term√©szetesen nem bonyolult automatiz√°lni. √çme egy Node.js szkript, ami legy≈±jti Magyarorsz√°g megy√©it √©s egyetlen GeoJSON-ba f≈±zi ≈ëket:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// npm i cheerio got&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cheerio&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;cheerio&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;got&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;got&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getCountyOsmIds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;got&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;https://wiki.openstreetmap.org/wiki/Hungary/Boundaries&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cheerio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;h2:contains(&quot;Megy√©k&quot;) + table tr&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;td a&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;downloadGeoJson&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;osmId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;geoJsonUrlTemplate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;http://polygons.openstreetmap.fr/get_geojson.py?id=X&amp;amp;params=0&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;got&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;geoJsonUrlTemplate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;osmId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getGeoJson&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;.json`&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;existsSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;readFileSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;json&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;downloadGeoJson&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;writeFileSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;json&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fixGeometryCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;geometry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;geometry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;GeometryCollection&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;geometry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;geometries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;geometry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;geometries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;geometry&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;feature&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;geometry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;na&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;Feature&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;na&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// will be useful :)&lt;/span&gt;
		&lt;span class=&quot;na&quot;&gt;geometry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fixGeometryCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;geometry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getFeature&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;geometryJson&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getGeoJson&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;geometry&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;geometryJson&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;feature&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;geometry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;featureCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;features&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;FeatureCollection&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;features&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;generateFeatureCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;features&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getFeature&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;writeFileSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;featureCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;features&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ids&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getCountyOsmIds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;generateFeatureCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;counties.json&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A fenti szkripttel kapott GeoJSON egy-az-egyben hozz√°adhat√≥ a Leaflet t√©rk√©phez, ahogy a fentebb linkelt Choropleth tutorial-ban le van √≠rva. Ott a megyei adatokat is beleapplik√°lt√°k a GeoJSON f√°jlba, √©n ink√°bb csak a megy√©hez tartoz√≥ OSM relation ID-t tettem bele, √≠gy b√°rmilyen projekthez j√≥ lesz az √∂ssze√°ll√≠tott &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FeatureCollection&lt;/code&gt;. Kliensoldalon nem lesz kunszt √∂sszek√∂tni a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;feature.properties.id&lt;/code&gt;-t az √©pp aktu√°lis adatokkal √©s a megy√©k nev√©vel.&lt;/p&gt;

&lt;p&gt;Hasonl√≥ m√≥dszerrel r√° tudjuk dobni a t√©rk√©p√ºnkre Budapest ker√ºleteit, vagy ak√°r a szomsz√©dos orsz√°gokat is.&lt;/p&gt;</content><author><name>Zsolt Jur√°nyi</name></author><category term="automation" /><category term="choropleth" /><category term="geojson" /><category term="leaflet" /><category term="map" /><category term="nodejs" /><category term="script" /><summary type="html">Adott a feladat, hogy egy weboldalon megjelen√≠ts√ºk kis haz√°nk megyet√©rk√©p√©t, valamilyen √©rt√©k szerinti sz√≠nez√©ssel. Hogyan fogjunk neki?</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://juzraai.github.io/assets/facebook-og-image.png" /><media:content medium="image" url="https://juzraai.github.io/assets/facebook-og-image.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="hu_HU"><title type="html">Node.js app egy f√°jlba csomagol√°sa</title><link href="https://juzraai.github.io/blog/2019/nodejs-app-egy-fajlba-csomagolasa/" rel="alternate" type="text/html" title="Node.js app egy f√°jlba csomagol√°sa" /><published>2019-11-02T00:00:00-05:00</published><updated>2019-11-02T06:15:08-05:00</updated><id>https://juzraai.github.io/blog/2019/nodejs-app-egy-fajlba-csomagolasa</id><content type="html" xml:base="https://juzraai.github.io/blog/2019/nodejs-app-egy-fajlba-csomagolasa/">&lt;h2 id=&quot;motiv√°ci√≥-√©s-c√©lkit≈±z√©s&quot;&gt;Motiv√°ci√≥ √©s c√©lkit≈±z√©s&lt;/h2&gt;

&lt;p&gt;Az ut√≥bbi hetekben el≈ëvettem a &lt;a href=&quot;https://github.com/juzraai/dijnet-bot&quot;&gt;D√≠jnet Bot&lt;/a&gt; projektemet, √©s elkezdtem tuningol√°si √∂tleteket √∂ssze√≠rni, illetve megval√≥s√≠tani. Az egyik ilyen √∂tlet a program egyetlen f√°jlba csomagol√°sa volt. V√©giggondoltam ugyanis, hogy a &lt;strong&gt;c√©lk√∂z√∂ns√©gem nem csak a fejleszt≈ëk, hanem mindenki&lt;/strong&gt;, √©s egy mezei felhaszn√°l√≥ nem biztos, hogy tudja mi az a parancssor, meg nem felt√©tlen√ºl k√©nyelmes Node.js-t meg dependency-ket telep√≠tgetni, miel≈ëtt haszn√°lni tudn√° a programomat.&lt;/p&gt;

&lt;p&gt;A fentiek alapj√°n 2 c√©lt fogalmaztam meg: a program &lt;strong&gt;legyen haszn√°lhat√≥&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Node.js telep√≠t√©s √©s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;npm i -g&lt;/code&gt;  futtat√°sa n√©lk√ºl,&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;illetve parancssorba/termin√°lba p√∂ty√∂g√©s n√©lk√ºl.&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;el≈ëk√©sz√ºletek&quot;&gt;El≈ëk√©sz√ºletek&lt;/h2&gt;

&lt;p&gt;A fentiekb≈ël k√∂vetkezik, hogy a program &lt;strong&gt;konfigur√°lhat√≥s√°g√°t&lt;/strong&gt; is √∫gy kellett kialak√≠tani, hogy ahhoz se kelljen parancssor.  Szerencs√©re a &lt;strong&gt;konfigf√°jl&lt;/strong&gt; olvas√°sa, illetve a k√∂rnyezeti v√°ltoz√≥k kezel√©se a program legels≈ë v√°ltozat√°t√≥l kezdve adott volt.&lt;/p&gt;

&lt;p&gt;Azonban ha elk√©pzelj√ºk, hogy duplaklikkre indul a program, √©s D√≠jnet bejelentkez√©si adatok hi√°ny√°ban kiprinteli a help-et, majd kil√©p, az nem valami felhaszn√°l√≥bar√°t m≈±k√∂d√©s. Ennek orvosl√°s√°ra a v2.0.0-ban bevezettem azt, hogy ha a sz√ºks√©ges adatokat nem kapja meg, akkor a program &lt;strong&gt;prompttal&lt;/strong&gt; k√©ri be azokat a termin√°lban.&lt;/p&gt;

&lt;p&gt;Ennek szebb/eleg√°nsabb form√°ja lenne egy korrekt &lt;strong&gt;GUI&lt;/strong&gt;, de az egy k√ºl√∂n t√∂rt√©net. üôÇ&lt;/p&gt;

&lt;h2 id=&quot;bin√°ris-gener√°l√°sa&quot;&gt;Bin√°ris gener√°l√°sa&lt;/h2&gt;

&lt;p&gt;Sz√©tn√©ztem, hogyan tudn√°m a fenti c√©lokat el√©rni, √©s az els≈ë √∫t, ami el√©m ker√ºlt, az a &lt;strong&gt;bin√°ris f√°jl gener√°l√°sa.&lt;/strong&gt; Van is k√©t tool, ami ezt k√≠n√°lja: a &lt;a href=&quot;https://www.npmjs.com/package/pkg&quot;&gt;pkg&lt;/a&gt; √©s a &lt;a href=&quot;https://www.npmjs.com/package/nexe&quot;&gt;nexe&lt;/a&gt;. Mindkett≈ë azt csin√°lja, hogy &lt;strong&gt;egyetlen futtathat√≥ f√°jlba&lt;/strong&gt; csomagolja √∂ssze&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;a Node.js runtime-ot&lt;/li&gt;
  &lt;li&gt;a programomat&lt;/li&gt;
  &lt;li&gt;√©s a programom dependency-jeit.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;K√ºl√∂nf√©le platformokat √©s k√ºl√∂nf√©le Node.js verzi√≥kat lehet v√°lasztani, √©s a folyamat v√©g√©n minden megadott platform+Node kombin√°ci√≥ra 1-1 futtathat√≥ f√°jlt k√∂p ki, amik egyenk√©nt kb. 20-40 MB-ot nyomnak.&lt;/p&gt;

&lt;p&gt;A kapott f√°jl ugyan√∫gy futtathat√≥ parancssorb√≥l, mint az eredeti program, emellett duplaklikkel is ind√≠that√≥, ekkor nyit mag√°nak egy Node konzolablakot (mint amikor a Node-hoz t√°rs√≠tjuk a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.js&lt;/code&gt; f√°jlunkat).&lt;/p&gt;

&lt;p&gt;Mindez &lt;strong&gt;perfekt√ºl hangzik&lt;/strong&gt;, mert mindk√©t c√©lomat el√©rn√©m p√°r karakter le√ºt√©s√©vel, viszont a kik√∂pott &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.exe&lt;/code&gt; f√°jlokat a &lt;strong&gt;BitDefender kiv√©tel n√©lk√ºl k√°rt√©konynak √©rz√©kelte.&lt;/strong&gt; üö® Nem D√≠jnet Bot-specifikus a probl√©ma, √©s a kiv√°lasztott Node runtime verzi√≥t√≥l sem f√ºgg. √ârdekess√©g, hogy a BitDefender a f√°jl futtat√°sa k√∂zben vagy ut√°n jelzett, ha pedig explicite k√©rtem, hogy szkennelje az &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.exe&lt;/code&gt; f√°jlt, akkor azt mondta, hogy minden ok√©. ü§Ø&lt;/p&gt;

&lt;p&gt;Tettem egy pr√≥b√°t &lt;a href=&quot;https://electronjs.org/&quot;&gt;Electron.js&lt;/a&gt;-el is, ami noha j√≥val nagyobb output m√©retet gener√°l, a fenti c√©lok el√©r√©s√©n fel√ºl egyszer≈±en tudn√©k vele GUI-t is csin√°lni az appnak. A BitDefender itt is lecsapott.&lt;/p&gt;

&lt;p&gt;Ez nyilv√°n fals-pozit√≠v jelz√©s, √©s tal√°n lehetne is jelenteni a BitDefender-nek, de akkor vajon minden verzi√≥t be k√©ne k√ºldenem nekik? Illetve akkor ezt v√©gig k√©ne csin√°lnom a t√∂bbi antiv√≠rus szoftverrel is? Nem √©letszer≈±. A &lt;a href=&quot;https://www.virustotal.com/gui/file/1a6c995f23c676a58de288ae8e2e7fba2f9fa4b51d90e6da4c70776fc222ad89/detection&quot;&gt;VirusTotal szerint&lt;/a&gt; mondjuk csak a BitDefender probl√©m√°zik:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/dijnet-bot/dijnet-bot-exe-vt1.png&quot;&gt;&lt;img src=&quot;/assets/dijnet-bot/dijnet-bot-exe-vt1.png&quot; alt=&quot;VirusTotal Detection&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tippre az a baja, hogy a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pkg&lt;/code&gt; √∫gy gener√°lja a kimenetet, hogy egy megl√©v≈ë &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.exe&lt;/code&gt; f√°jlba (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node.exe&lt;/code&gt;) injekt√°lja a programomat (valahol √©rthet≈ë, hogy ez gyan√∫s, de na):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/dijnet-bot/dijnet-bot-exe-vt2.png&quot;&gt;&lt;img src=&quot;/assets/dijnet-bot/dijnet-bot-exe-vt2.png&quot; alt=&quot;VirusTotal Details&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;T√∂bb helyen olvastam, hogy a program al√°√≠r√°sa megoldhatja a gondot. A tan√∫s√≠tv√°nyok, amiket eddig tal√°ltam, t√∂bb sz√°z dolcsiba ker√ºlnek, ami csak a D√≠jnet Bot miatt nem √©ri meg. A t√©m√°ba nem √°stam bele magam m√©lyebben, tal√°n k√©s≈ëbb megteszem. ü§® Itt ezt a sz√°lat feladtam, √©s egy &lt;strong&gt;B-tervet&lt;/strong&gt; val√≥s√≠tottam meg.&lt;/p&gt;

&lt;h2 id=&quot;b-terv&quot;&gt;B-terv&lt;/h2&gt;

&lt;p&gt;Tal√°ltam egy k√∂ztes megold√°st, amivel a Node.js telep√≠t√©st ugyan nem tudom &lt;strong&gt;megsp√≥rolni a j√∫zernek,&lt;/strong&gt; de az &lt;strong&gt;NPM-ez√©st&lt;/strong&gt; igen, illetve a parancssor haszn√°lata is kiker√ºlhet≈ë.&lt;/p&gt;

&lt;p&gt;A &lt;strong&gt;&lt;a href=&quot;http://browserify.org/&quot;&gt;Browserify&lt;/a&gt;&lt;/strong&gt; jutott eszembe, ami ugye egyetlen bundle f√°jlt tud gener√°lni egy kiindul√≥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.js&lt;/code&gt; f√°jlb√≥l, v√©gigk√∂vetve annak &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;require&lt;/code&gt; h√≠v√°sait. A &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--node&lt;/code&gt; kapcsol√≥val tud Node.js-kompatibilis kimenetet is gener√°lni:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;browserify index.js &lt;span class=&quot;nt&quot;&gt;--node&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; dijnet-bot.js
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Az √≠gy kapott &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.js&lt;/code&gt; f√°jl pontosan √∫gy m≈±k√∂dik, mint az &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;index.js&lt;/code&gt;, viszont nem kell mell√© semmi m√°s: sem &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;package.json&lt;/code&gt;, sem &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node_modules&lt;/code&gt; mappa. Ha a felhaszn√°l√≥ t√°rs√≠tja a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.js&lt;/code&gt; f√°jlokat a Node runtime-al, akkor &lt;strong&gt;duplaklikkel is ind√≠that√≥, vagyis a 2. c√©lt el√©rt√ºk.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;A kimeneti f√°jl m√©rete 1.3 MB, ami a 12 MB-os &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node_modules&lt;/code&gt; mapp√°val szemben hatalmas el≈ërel√©p√©s. Azonban √©n itt nem √°lltam meg - ham√°r csomagolunk, csomagoljunk rendesen! ü§ì&lt;/p&gt;

&lt;p&gt;A &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.js&lt;/code&gt; f√°jlok t√∂m√∂r√≠t√©si elj√°r√°sa a &lt;em&gt;minification&lt;/em&gt;, melyre a standard tool az &lt;a href=&quot;https://www.npmjs.com/package/uglify-js&quot;&gt;Uglify JS&lt;/a&gt;. Ez viszont els√≠rja mag√°t egy &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;const&lt;/code&gt; keyword-t≈ël is, vagyis kell m√©g egy Babel f√°zis el√©, ami a JavaScript egy r√©gebbi verzi√≥j√°ra ford√≠tja a programom. Ut√≥bbihoz kev√©ss√© √©rtek m√©g √©s f√∂l√∂sleges bonyol√≠t√°snak is tartom, sz√≥val m√°s utat kerestem.&lt;/p&gt;

&lt;p&gt;T√∂bb m√°s eszk√∂z kipr√≥b√°l√°sa ut√°n r√°tal√°ltam a &lt;a href=&quot;https://terser.org/&quot;&gt;Terser&lt;/a&gt;-re, ami modern JS k√≥dot is tud kezelni. A Browserify ut√°n bek√∂tve a &lt;strong&gt;v√©gs≈ë f√°jlm√©ret 707 KB lett.&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;browserify&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;browserify&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;terser&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;terser&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;browserify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;./index.js&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;cm&quot;&gt;/* --node */&lt;/span&gt;
		&lt;span class=&quot;na&quot;&gt;bare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;na&quot;&gt;browserField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bundle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bundle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 1.3 MB&lt;/span&gt;
		&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;minified&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;terser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;minify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bundle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;code&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 0.7 MB&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;writeFileSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;./dijnet-bot.js&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;minified&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A v2.1.0 verzi√≥t√≥l kezdve a D√≠jnet Bot-hoz gener√°lok egy ilyen bundle-t is.&lt;/p&gt;

&lt;p&gt;A BitDefender-es fonalat lehet, hogy felveszem m√©g, h√°tha siker√ºl valahogy megoldani vagy t√∂bbet megtudni a probl√©m√°r√≥l. Emellett a GUI t√©m√°n is agyalok, hogyan tudom megoldani, Electron-nal vagy an√©lk√ºl.&lt;/p&gt;</content><author><name>Zsolt Jur√°nyi</name></author><category term="bitdefender" /><category term="bundle" /><category term="browserify" /><category term="minify" /><category term="nodejs" /><summary type="html">Motiv√°ci√≥ √©s c√©lkit≈±z√©s</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://juzraai.github.io/assets/dijnet-bot/dijnet-bot-exe-vt1.png" /><media:content medium="image" url="https://juzraai.github.io/assets/dijnet-bot/dijnet-bot-exe-vt1.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="en_US"><title type="html">Is Popper.js required for Bootstrap 4?</title><link href="https://juzraai.github.io/blog/2019/is-popperjs-requried-for-bootstrap4/" rel="alternate" type="text/html" title="Is Popper.js required for Bootstrap 4?" /><published>2019-05-12T00:00:00-05:00</published><updated>2019-08-12T16:00:53-05:00</updated><id>https://juzraai.github.io/blog/2019/is-popperjs-requried-for-bootstrap4</id><content type="html" xml:base="https://juzraai.github.io/blog/2019/is-popperjs-requried-for-bootstrap4/">&lt;p&gt;Several months ago I saw this &lt;a href=&quot;https://stackoverflow.com/questions/46155017/bootstrap-4-beta-is-popper-js-required/46155285&quot;&gt;question on StackOverflow&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;I wanted to ask if Popper.js is absolutely necessary or not if I don‚Äôt use dropdown menus. Are there any other parts of Bootstrap 4 driven by Popper.js that would not work without the library?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I made a little research and posted &lt;a href=&quot;https://stackoverflow.com/a/46155285/2418224&quot;&gt;my answer&lt;/a&gt;. I‚Äôm revisiting this now because from time to time I get upvotes and currently this is my highest voted answer. (I know, 15 upvotes is ridiculous if we compare it to posts of &lt;a href=&quot;https://stackoverflow.com/users?tab=Reputation&amp;amp;filter=all&quot;&gt;Stack Overflow ninjas&lt;/a&gt;, but I‚Äôm happy with it now. ü§ì) This blog post is here to spread the knowledge by mirroring my answer, and also to add some minor thoughts to it.&lt;/p&gt;

&lt;h2 id=&quot;which-parts-of-bootstrap-4-uses-popperjs&quot;&gt;Which parts of Bootstrap 4 uses Popper.js?&lt;/h2&gt;

&lt;p&gt;To answer this part of the original question, the easiest we can do is to open the documentation and use its search box.&lt;/p&gt;

&lt;p&gt;If we search for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;popper&lt;/code&gt; in &lt;a href=&quot;https://getbootstrap.com/docs/4.3/getting-started/introduction/&quot;&gt;Bootstrap 4‚Äôs documentation&lt;/a&gt;, the following results will come up:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Tooltips rely on the 3rd party library &lt;strong&gt;Popper.js&lt;/strong&gt; for positioning.&lt;/p&gt;

  &lt;p&gt;Popovers rely on the 3rd party library &lt;strong&gt;Popper.js&lt;/strong&gt; for positioning.&lt;/p&gt;

  &lt;p&gt;Dropdowns are built on a third party library, &lt;strong&gt;Popper.js&lt;/strong&gt;, which provides dynamic positioning and viewport detection.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;(These quotes are from the Beta documentation. Currently the phrasing is different but the results are the same.)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;So these are the Bootstrap 4 components that need Popper.js:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;dropdowns&lt;/li&gt;
  &lt;li&gt;popovers&lt;/li&gt;
  &lt;li&gt;tooltips&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;(According to my answer on StackOverflow, Bootstrap 4 Beta needed Popper.js for modals as well, which is not true for the current 4.3.1 version.)&lt;/p&gt;

&lt;h2 id=&quot;do-i-need-popperjs-if-i-dont-use-these-components&quot;&gt;Do I need Popper.js if I don‚Äôt use these components?&lt;/h2&gt;

&lt;p&gt;Popper.js is stated as required in the documentation:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Many of our components require the use of JavaScript to function. Specifically, they require jQuery, Popper.js, and our own JavaScript plugins. Place the following scripts near the end of your pages, right before the closing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt; tag, to enable them. jQuery must come first, then Popper.js, and then our JavaScript plugins.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;And Bootstrap 4 JS (Beta version at least) logs an error if it can‚Äôt find Popper.js:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Uncaught Error: Bootstrap dropdown require Popper.js (https://popper.js.org)
    at bootstrap.min.js:6
    at bootstrap.min.js:6
    at bootstrap.min.js:6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, &lt;strong&gt;Bootstrap 4 can be used without Popper.js, if we don‚Äôt use tooltips, popovers nor dropdowns.&lt;/strong&gt; For example, navbar‚Äôs JS functionality (mobile menu on the right) &lt;a href=&quot;https://stackoverflow.com/a/46155285/2418224&quot;&gt;works well without Popper.js&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;but-theres-a-bundle&quot;&gt;‚Ä¶but there‚Äôs a bundle!&lt;/h2&gt;

&lt;p&gt;More answers on the same topic mentions that there‚Äôs a bundle version of Bootstrap 4 JS, which &lt;strong&gt;includes Popper.js,&lt;/strong&gt; therefore there‚Äôs no need to bother including Popper.js by hand.&lt;/p&gt;

&lt;p&gt;In my opinion, or at least for me, the whole point of not importing Popper.js is to reduce loading time of a webpage by &lt;strong&gt;importing only what is required.&lt;/strong&gt; In this case, the bundle doesn‚Äôt help.&lt;/p&gt;</content><author><name>Zsolt Jur√°nyi</name></author><category term="bootstrap" /><category term="optimization" /><category term="popperjs" /><category term="stackoverflow" /><summary type="html">Several months ago I saw this question on StackOverflow:</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://juzraai.github.io/assets/facebook-og-image.png" /><media:content medium="image" url="https://juzraai.github.io/assets/facebook-og-image.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="hu_HU"><title type="html">T√©nyleg kell Popper.js Bootstrap 4-hez?</title><link href="https://juzraai.github.io/blog/2019/tenyleg-kell-popperjs-bootstrap4-hez/" rel="alternate" type="text/html" title="T√©nyleg kell Popper.js Bootstrap 4-hez?" /><published>2019-05-12T00:00:00-05:00</published><updated>2019-05-12T12:22:36-05:00</updated><id>https://juzraai.github.io/blog/2019/tenyleg-kell-popperjs-bootstrap4-hez</id><content type="html" xml:base="https://juzraai.github.io/blog/2019/tenyleg-kell-popperjs-bootstrap4-hez/">&lt;p&gt;J√≥ p√°r h√≥napja tal√°ltam &lt;a href=&quot;https://stackoverflow.com/questions/46155017/bootstrap-4-beta-is-popper-js-required/46155285&quot;&gt;ezt a k√©rd√©st StackOverflow-n&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Azt szeretn√©m k√©rdezni, hogy a Popper.js t√©nyleg sz√ºks√©ges-e, ha nem haszn√°lok dropdown menu-t*? Vannak m√°s Bootstrap 4 komponensek, amik a Popper.js-re √©p√ºlnek √©s nem tudnak m≈±k√∂dni n√©lk√ºle?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;small&gt;*: A komponenseket direkt nem fogom leford√≠tgatni, mert 1) nem tudom, mi lenne a korrekt magyar megfelel≈ëj√ºk, 2) mivel szakszavak, tal√°n nem is kell ≈ëket ford√≠tani.&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;Ut√°nan√©ztem kicsit a dolgoknak, √©s &lt;a href=&quot;https://stackoverflow.com/a/46155285/2418224&quot;&gt;v√°laszoltam a k√©rd√©sre&lt;/a&gt;. Az√©rt ker√ºlt most el≈ë ez a t√©ma, mert id≈ënk√©nt kapok upvote-okat, √©s eddig ez a legmagasabb pontsz√°m√∫ v√°laszom. (J√≥, h√°t a 15 pontj√°val nyilv√°n nevets√©ges a &lt;a href=&quot;https://stackoverflow.com/users?tab=Reputation&amp;amp;filter=all&quot;&gt;Stack Overflow nindzs√°k&lt;/a&gt; posztjaihoz k√©pest, de √©n ezzel is boldog vagyok. ü§ì) Jelen bejegyz√©s az√©rt sz√ºletik, hogy terjesszem az inf√≥kat, illetve hogy m√©g p√°r gondolatot hozz√°toldjak a v√°laszomhoz.&lt;/p&gt;

&lt;h2 id=&quot;mely-bootstrap-4-komponensek-haszn√°lj√°k-a-popperjs-t&quot;&gt;Mely Bootstrap 4 komponensek haszn√°lj√°k a Popper.js-t?&lt;/h2&gt;

&lt;p&gt;Ahhoz, hogy ezt megv√°laszoljuk, a legegyszer≈±bb, amit tehet√ºnk, hogy megnyitjuk a dokument√°ci√≥t √©s haszn√°ljuk a keres≈ëdoboz√°t.&lt;/p&gt;

&lt;p&gt;Ha r√°keres√ºnk a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;popper&lt;/code&gt;-re a &lt;a href=&quot;https://getbootstrap.com/docs/4.3/getting-started/introduction/&quot;&gt;Bootstrap 4 dokument√°ci√≥ban&lt;/a&gt;, az al√°bbi tal√°latokat kapjuk:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Tooltips rely on the 3rd party library &lt;strong&gt;Popper.js&lt;/strong&gt; for positioning.&lt;/p&gt;

  &lt;p&gt;Popovers rely on the 3rd party library &lt;strong&gt;Popper.js&lt;/strong&gt; for positioning.&lt;/p&gt;

  &lt;p&gt;Dropdowns are built on a third party library, &lt;strong&gt;Popper.js&lt;/strong&gt;, which provides dynamic positioning and viewport detection.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;(A fentiek a Beta doksib√≥l vannak. A kurrens doksiban m√°s a megfogalmaz√°s, de az eredm√©ny azonos.)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Sz√≥val ezek a Bootstrap 4 komponensek haszn√°lnak Popper.js-t:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;dropdown&lt;/li&gt;
  &lt;li&gt;popover&lt;/li&gt;
  &lt;li&gt;tooltip&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;(A StackOverflow-n olvashat√≥ v√°laszom tan√∫s√°ga szerint a Bootstrap 4 Beta verzi√≥j√°nak m√©g a modal-hoz is kellett a Popper.js, de ez m√°r nem igaz a kurrens 4.3.1 verzi√≥ra.)&lt;/p&gt;

&lt;h2 id=&quot;sz√ºks√©ges-a-popperjs-ha-nem-haszn√°lom-a-fenti-komponenseket&quot;&gt;Sz√ºks√©ges a Popper.js, ha nem haszn√°lom a fenti komponenseket?&lt;/h2&gt;

&lt;p&gt;A Popper.js k√∂vetelm√©nyk√©nt van eml√≠tve a dokument√°ci√≥ban:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Many of our components require the use of JavaScript to function. Specifically, they require jQuery, Popper.js, and our own JavaScript plugins. Place the following scripts near the end of your pages, right before the closing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt; tag, to enable them. jQuery must come first, then Popper.js, and then our JavaScript plugins.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;√âs a Bootstrap 4 JS (legal√°bbis a Beta verzi√≥) hiba√ºzenetet √≠r a logba, ha nem tal√°lja a Popper.js-t:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Uncaught Error: Bootstrap dropdown require Popper.js (https://popper.js.org)
    at bootstrap.min.js:6
    at bootstrap.min.js:6
    at bootstrap.min.js:6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ugyanakkor a &lt;strong&gt;Bootstrap 4 haszn√°lhat√≥ Popper.js n√©lk√ºl, ha nem haszn√°lunk tooltip-eket, popover-eket vagy dropdown-okat.&lt;/strong&gt; P√©ld√°ul a navbar JS funkcionalit√°sa (mobil menu a jobb sz√©len) &lt;a href=&quot;https://stackoverflow.com/a/46155285/2418224&quot;&gt;kiv√°l√≥an m≈±k√∂dik Popper.js n√©lk√ºl&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;de-h√°t-van-bundle&quot;&gt;‚Ä¶de h√°t van bundle!&lt;/h2&gt;

&lt;p&gt;T√∂bb v√°lasz is eml√≠ti a sz√≥ban forg√≥ k√©rd√©s alatt, hogy a Bootstrap 4-nek van egy bundle verzi√≥ja, ami &lt;strong&gt;tartalmazza a Popper.js-t,&lt;/strong&gt; teh√°t nem kell g√∂rcs√∂lni a Popper.js k√©zzel import√°l√°s√°n.&lt;/p&gt;

&lt;p&gt;Az √©n v√©lem√©nyem viszont az, vagy legal√°bbis sz√°momra a k√©rd√©snek pont az az √©rtelme, hogy az√©rt nem import√°ljuk a Popper.js-t, mert cs√∂kkenteni szeretn√©nk a weboldalunk bet√∂lt√©si idej√©t azzal, hogy &lt;strong&gt;csak a sz√ºks√©ges dolgokat import√°ljuk.&lt;/strong&gt; Ebben az esetben azonban a bundle nem seg√≠t.&lt;/p&gt;</content><author><name>Zsolt Jur√°nyi</name></author><category term="bootstrap" /><category term="popperjs" /><category term="stackoverflow" /><summary type="html">J√≥ p√°r h√≥napja tal√°ltam ezt a k√©rd√©st StackOverflow-n:</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://juzraai.github.io/assets/facebook-og-image.png" /><media:content medium="image" url="https://juzraai.github.io/assets/facebook-og-image.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="hu_HU"><title type="html">Git changelog gener√°l√°s</title><link href="https://juzraai.github.io/blog/2018/git-changelog-generalas/" rel="alternate" type="text/html" title="Git changelog gener√°l√°s" /><published>2018-12-15T00:00:00-06:00</published><updated>2019-08-12T16:00:53-05:00</updated><id>https://juzraai.github.io/blog/2018/git-changelog-generalas</id><content type="html" xml:base="https://juzraai.github.io/blog/2018/git-changelog-generalas/">&lt;h2 id=&quot;bevezet√©s&quot;&gt;Bevezet√©s&lt;/h2&gt;

&lt;p&gt;B√∂ng√©szgettem GitHub-on, √©s felfigyeltem r√°, hogy sok rep√≥ban van &lt;strong&gt;changelog f√°jl&lt;/strong&gt; vagy fejezet a readme-ben. A changelog egy &lt;strong&gt;hasznos dolog, t√°j√©koztatja&lt;/strong&gt; a felhaszn√°l√≥t (vagy fejleszt≈ët) az egyes verzi√≥k k√ºl√∂nbs√©geir≈ël, a &lt;strong&gt;bek√∂vetkezett v√°ltoz√°sokr√≥l.&lt;/strong&gt; Ha el√©g √ºgyesek vagyunk, ezt a napl√≥t megfelel≈ë tool seg√≠ts√©g√©vel le is tudjuk gener√°lni. A j√≥ changelog ir√°nyelveit a &lt;a href=&quot;https://keepachangelog.com/en/1.0.0/&quot;&gt;Keep a Changelog&lt;/a&gt; oldal √≠rja le, szem el≈ëtt tartva √∫gy a napl√≥ olvashat√≥s√°g√°t √©s √©rtelm√©t, mint pedig a gener√°lhat√≥s√°g√°t (ld. commit message prefixek).&lt;/p&gt;

&lt;p&gt;Namost a linken √≠rtakat most olvastam el, miut√°n a posztom v√°zlat√°t meg√≠rtam‚Ä¶ √©s a helyzet az, hogy &lt;strong&gt;a bejegyz√©s tov√°bbi r√©sze szembemegy az ir√°nyelvekkel.&lt;/strong&gt; Ez kiss√© tal√°n lelomboz, viszont ett≈ël m√©g nem haszontalan megosztanom a &lt;del&gt;mai szenved√©sem&lt;/del&gt; ma szerzett tapasztalataimat a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git log&lt;/code&gt; paranccsal.&lt;/p&gt;

&lt;h2 id=&quot;c√©lkit≈±z√©s&quot;&gt;C√©lkit≈±z√©s&lt;/h2&gt;

&lt;p&gt;A dolog ott indul, hogy a &lt;a href=&quot;/blog/2018/dijnet-bot/&quot;&gt;D√≠jnet bothoz&lt;/a&gt; gondoltam changelog-ot gener√°lni. A &lt;a href=&quot;https://github.com/juzraai/dijnet-bot&quot;&gt;rep√≥r√≥l&lt;/a&gt; azt kell most tudni, hogy a commit message-eket kiv√©telesen magyarul √≠rom. &lt;strong&gt;A c√©lom pedig az, hogy a changelog tartalmazza az √∂sszes commit-ot, release-enk√©nt csoportos√≠tva.&lt;/strong&gt; (v√∂. a fentebb linkelt ir√°nyelvekkel)&lt;/p&gt;

&lt;p&gt;Keresg√©ltem l√©tez≈ë gener√°torokat, kett≈ët emeln√©k ki:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/github-changelog-generator/github-changelog-generator&quot;&gt;github-changelog-generator&lt;/a&gt; - Ennek van a legt√∂bb csillaga, viszont nekem (most) nem megfelel≈ë, mert &lt;strong&gt;GitHub Issues-b√≥l dolgozik,&lt;/strong&gt; amit nem haszn√°lok a fent eml√≠tett rep√≥ban.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/git-chglog/git-chglog/&quot;&gt;git-chglog&lt;/a&gt; - Ez kev√©sb√© n√©pszer≈±, viszont nagyon szimpatikus, mert a &lt;strong&gt;git history-b√≥l dolgozik,&lt;/strong&gt; egyetlen bin√°risb√≥l √°ll, k√∂nnyen &lt;strong&gt;testreszabhat√≥&lt;/strong&gt; √©s config gener√°tora is van. Ugyanakkor kipr√≥b√°ltam, √©s nem azt kapom, amit v√°rok. Ha kikapcsolom a commit type detekt√°l√°st (message els≈ë szava alapj√°n csoportos√≠t√°s), akkor konkr√©tan √ºres lesz a gener√°lt napl√≥.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Sz√≥val neki√ºltem saj√°t szkriptet √≠rni.&lt;/p&gt;

&lt;h2 id=&quot;k√≠s√©rletez√©s&quot;&gt;K√≠s√©rletez√©s&lt;/h2&gt;

&lt;p&gt;El≈ësz√∂r n√©zz√ºk, mivel √°llunk szemben. √çgy n√©z ki a teljes log:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git log --oneline
b323e7d (HEAD -&amp;gt; master, single-inst) Lint
73a4bcd Csak egy instance maradhat
bf4a37f Szkriptek src mapp√°ba (√°tl√°that√≥s√°g++)
7c1fdb0 (tag: 1.0.1, origin/master, origin/HEAD) Logger konfig itt jobb helyen van
e724f7e Glob√°lis install m≈±k√∂dik
c8d7518 (tag: 1.0.0) Dependency update
e7e9abb K√©p URL fix
f4a4114 Feladatok, √∂tletek
3655263 Doksi
51c3039 Sleep konfigban, exit code
2f6669e F√°jlba ment√©s opcion√°lis, log level √°ll√≠that√≥
80d90db Lint
285f280 Iter√°ci√≥ m≈±k√∂dik
f929777 Sz√°mla f√°jlok let√∂lt√©se
d207817 Let√∂lt≈ë linkek parszol√°sa
39d0ae8 Sz√°mla kiv√°laszt√°s, f√°jlba ment√©s
f463a50 Sz√°mla alapadatok parszol√°sa
cd4e40e szamla_search_submit
2ebca86 Login, szamla_search
ff608c9 Logger
5fa1938 Initial commit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Kipr√≥b√°ltam a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git log&lt;/code&gt; parancsot, √©s a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;since&amp;gt;...&amp;lt;until&amp;gt;&lt;/code&gt; param√©tert. Az unreleased commit-okat √≠gy tudom kilist√°zni:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git log --oneline 1.0.1...HEAD
b323e7d (HEAD -&amp;gt; master, single-inst) Lint
73a4bcd Csak egy instance maradhat
bf4a37f Szkriptek src mapp√°ba (√°tl√°that√≥s√°g++)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Az utols√≥ release adatait hasonl√≥an egyszer≈±en:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git log --oneline 1.0.0...1.0.1
7c1fdb0 (tag: 1.0.1, origin/master, origin/HEAD) Logger konfig itt jobb helyen van
e724f7e Glob√°lis install m≈±k√∂dik
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Azonban a legels≈ë release history-j√°t tr√ºkk√∂sebb lek√©rdezni - mit kell megadni a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;since&amp;gt;&lt;/code&gt;-nek? Semmit? Nem:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git log --oneline ...1.0.0
b323e7d (HEAD -&amp;gt; master, single-inst) Lint
73a4bcd Csak egy instance maradhat
bf4a37f Szkriptek src mapp√°ba (√°tl√°that√≥s√°g++)
7c1fdb0 (tag: 1.0.1, origin/master, origin/HEAD) Logger konfig itt jobb helyen van
e724f7e Glob√°lis install m≈±k√∂dik
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HEAD&lt;/code&gt; √©s az els≈ë release k√∂zti commit-okat kaptam vissza, vagyis pont az ellenkez≈ëj√©t annak, amit szerettem volna.&lt;/p&gt;

&lt;p&gt;Rengeteget keresg√©ltem, de nem tal√°ltam szebb megold√°st ann√°l, minthogy lek√©rem a legels≈ë commit hash-t, √©s azt adom meg &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;since&amp;gt;&lt;/code&gt;-nek.&lt;/p&gt;

&lt;p&gt;A legels≈ë commit lek√©rdez√©s√©re 2 m√≥dszert tal√°ltam:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git log --oneline | tail -1 | cut -d' ' -f 1&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git rev-list --max-parents=0 HEAD&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Behelyettes√≠tve a kor√°bbi parancsba m√°r megkapom az els≈ë release commit-jait:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git log --oneline `git log --oneline | tail -1 | cut -d' ' -f 1`...1.0.0
c8d7518 (tag: 1.0.0) Dependency update
e7e9abb K√©p URL fix
f4a4114 Feladatok, √∂tletek
3655263 Doksi
51c3039 Sleep konfigban, exit code
2f6669e F√°jlba ment√©s opcion√°lis, log level √°ll√≠that√≥
80d90db Lint
285f280 Iter√°ci√≥ m≈±k√∂dik
f929777 Sz√°mla f√°jlok let√∂lt√©se
d207817 Let√∂lt≈ë linkek parszol√°sa
39d0ae8 Sz√°mla kiv√°laszt√°s, f√°jlba ment√©s
f463a50 Sz√°mla alapadatok parszol√°sa
cd4e40e szamla_search_submit
2ebca86 Login, szamla_search
ff608c9 Logger
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Legal√°bbis majdnem. Ugyanis az intervallum alul nyitott, az &lt;em&gt;‚ÄúInitial commit‚Äù&lt;/em&gt; kimaradt. Ezt explicit m√≥don kell majd ki√≠ratnom a changelog v√©g√©re:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git log --oneline | tail -1
5fa1938 Initial commit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A fentiek automatiz√°l√°s√°hoz sz√ºks√©g van a release-ek list√°j√°ra is. Ezt az al√°bbi paranccsal k√©rdezhetem le:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git tag | sort -r
1.0.1
1.0.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A changelog akkor sz√©p, ha n√©mileg form√°zva van, erre egy t√∂k√©letes eszk√∂z a Markdown nyelv. A &lt;em&gt;‚ÄúChangelog‚Äù&lt;/em&gt; felirat egy egyes szint≈± c√≠msor, m√≠g a release-ek m√°sodszint≈±ek lesznek. K√∂zt√ºk a commit-ok pedig felsorol√°sok. Ut√≥bbihoz a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--oneline&lt;/code&gt; helyett saj√°t form√°tumot kell megadni a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git log&lt;/code&gt;-nak:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git log --pretty=&quot;* %s&quot; | tail -1
* Initial commit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pretty&lt;/code&gt; param√©terben haszn√°lhat√≥ v√°ltoz√≥kr√≥l &lt;a href=&quot;https://git-scm.com/docs/pretty-formats&quot;&gt;itt √≠rnak r√©szletesen&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;√∂sszekalap√°l√°s&quot;&gt;√ñsszekalap√°l√°s&lt;/h2&gt;

&lt;p&gt;Algoritmus:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;UNTIL := ‚ÄúHEAD‚Äù&lt;/li&gt;
  &lt;li&gt;V√©gig a release-eken:
    &lt;ul&gt;
      &lt;li&gt;SINCE := aktu√°lis release&lt;/li&gt;
      &lt;li&gt;Release fejl√©c ki√≠r√°sa (UNTIL)&lt;/li&gt;
      &lt;li&gt;Commitok ki√≠r√°sa SINCE‚Ä¶UNTIL tartom√°nyban&lt;/li&gt;
      &lt;li&gt;UNTIL := SINCE&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;FIRST := legels≈ë commit&lt;/li&gt;
  &lt;li&gt;Commitok ki√≠r√°sa FIRST‚Ä¶UNTIL tartom√°nyban&lt;/li&gt;
  &lt;li&gt;FIRST commit ki√≠r√°sa&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Bash implement√°ci√≥:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/usr/bin/env bash&lt;/span&gt;

write-commits&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	git log &lt;span class=&quot;nt&quot;&gt;--pretty&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;* %s&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

write-release&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;nv&quot;&gt;SINCE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;UNTIL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$2&lt;/span&gt;
	&lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;## &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$UNTIL&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
	write-commits &lt;span class=&quot;nv&quot;&gt;$SINCE&lt;/span&gt;...&lt;span class=&quot;nv&quot;&gt;$UNTIL&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

main&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;# Changelog&quot;&lt;/span&gt;
	&lt;span class=&quot;nv&quot;&gt;UNTIL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;HEAD&quot;&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;SINCE &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;git tag | &lt;span class=&quot;nb&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
		&lt;/span&gt;write-release &lt;span class=&quot;nv&quot;&gt;$SINCE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$UNTIL&lt;/span&gt;
		&lt;span class=&quot;nv&quot;&gt;UNTIL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$SINCE&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;done
	&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;FIRST&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;git log &lt;span class=&quot;nt&quot;&gt;--oneline&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;tail&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-1&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;' '&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 1&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
	write-release &lt;span class=&quot;nv&quot;&gt;$FIRST&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$UNTIL&lt;/span&gt;
	write-commits &lt;span class=&quot;nv&quot;&gt;$FIRST&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

main
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-markdown highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ./my-git-changelog.sh
&lt;span class=&quot;gh&quot;&gt;# Changelog&lt;/span&gt;

&lt;span class=&quot;gu&quot;&gt;## HEAD&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;
*&lt;/span&gt; Lint
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Csak egy instance maradhat
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Szkriptek src mapp√°ba (√°tl√°that√≥s√°g++)

&lt;span class=&quot;gu&quot;&gt;## 1.0.1&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;
*&lt;/span&gt; Logger konfig itt jobb helyen van
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Glob√°lis install m≈±k√∂dik

&lt;span class=&quot;gu&quot;&gt;## 1.0.0&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;
*&lt;/span&gt; Dependency update
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; K√©p URL fix
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Feladatok, √∂tletek
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Doksi
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Sleep konfigban, exit code
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; F√°jlba ment√©s opcion√°lis, log level √°ll√≠that√≥
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Lint
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Iter√°ci√≥ m≈±k√∂dik
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Sz√°mla f√°jlok let√∂lt√©se
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Let√∂lt≈ë linkek parszol√°sa
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Sz√°mla kiv√°laszt√°s, f√°jlba ment√©s
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Sz√°mla alapadatok parszol√°sa
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; szamla_search_submit
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Login, szamla_search
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Logger
&lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; Initial commit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A f√°jlba √≠r√°s pedig innen m√°r pofon egyszer≈±: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;./my-git-changelog.sh &amp;gt; CHANGELOG.md&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;epilog&quot;&gt;EpiLog&lt;/h2&gt;

&lt;p&gt;Lehetne m√©g persze tuningolni azzal, hogy a release-ekhez d√°tumot is ki√≠rok, de most ezt nem teszem meg.&lt;/p&gt;

&lt;p&gt;Ahogy a bevezet≈ëben is eml√≠tettem, a &lt;strong&gt;j√≥ changelog NEM ez,&lt;/strong&gt; amit most t√°koltam √∂ssze. Ugyanis nem, vagy csak nagyon &lt;strong&gt;nehezen der√ºl ki bel≈ële,&lt;/strong&gt; hogy a felhaszn√°l√≥nak mire kell figyelnie, mire sz√°m√≠that - v√°ltozott-e az API, beker√ºlt-e √∫j feaure, jav√≠tva lett-e a hiba, amit≈ël kihullott a haja, etc. Ehelyett a fenti megold√°s kiprinteli m√©g a legesleg√©rdektelenebb commitot is, az &lt;em&gt;initial&lt;/em&gt;-t‚Ä¶ ü§ì&lt;/p&gt;</content><author><name>Zsolt Jur√°nyi</name></author><category term="automation" /><category term="bash" /><category term="changelog" /><category term="commit" /><category term="generator" /><category term="git" /><category term="markdown" /><category term="log" /><category term="script" /><summary type="html">Bevezet√©s</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://juzraai.github.io/assets/facebook-og-image.png" /><media:content medium="image" url="https://juzraai.github.io/assets/facebook-og-image.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="hu_HU"><title type="html">D√≠jnet bot</title><link href="https://juzraai.github.io/blog/2018/dijnet-bot/" rel="alternate" type="text/html" title="D√≠jnet bot" /><published>2018-12-14T00:00:00-06:00</published><updated>2019-08-12T16:00:53-05:00</updated><id>https://juzraai.github.io/blog/2018/dijnet-bot</id><content type="html" xml:base="https://juzraai.github.io/blog/2018/dijnet-bot/">&lt;h2 id=&quot;a-probl√©ma&quot;&gt;A probl√©ma&lt;/h2&gt;

&lt;p&gt;A k√∂z√ºzemi sz√°ml√°k befizet√©s√©nek egyik legk√©nyelmesebb m√≥dja a &lt;a href=&quot;https://www.dijnet.hu/&quot;&gt;D√≠jnet&lt;/a&gt;. Emailt k√ºld a sz√°ml√°r√≥l, ami webes fel√ºletr≈ël let√∂lthet≈ë, √©s online bankk√°rty√°s fizet√©si lehet≈ës√©get biztos√≠t, amellyel t√∂bb sz√°mla is kiegyenl√≠thet≈ë egyetlen tranzakci√≥val.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Az ingyenes szolg√°ltat√°s keret√©ben a D√≠jnet az utols√≥ 18 h√≥nap sz√°ml√°it t√°rolja.&lt;/strong&gt; Ha a f√°jlokat k√©s≈ëbb is el akarjuk √©rni, akkor k√©t v√°laszt√°sunk van:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;vagy lementj√ºk a sz√°ml√°kat k√©zzel&lt;/li&gt;
  &lt;li&gt;vagy fizet√ºnk a &lt;a href=&quot;https://www.dijnet.hu/ekonto/docs/hu/szamlaplusz_tajekoztato.pdf&quot;&gt;Sz√°mlaPlusz&lt;/a&gt; nev≈± szolg√°ltat√°s√©rt (√©vi ~1000 Ft)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A fizet≈ës csomag - valljuk be - egy√°ltal√°n nem dr√°ga, az al√°bb √≠rtak ellen√©re √©n is el≈ëfizettem r√°.&lt;/p&gt;

&lt;p&gt;Van viszont √∫gy, hogy szeretn√©nk ezeket a f√°jlokat (m√©gis) a saj√°t g√©p√ºnk√∂n tudni, hogy k√©zn√©l legyenek. Itt j√∂nne az, hogy &lt;strong&gt;k√©zzel lementj√ºk ≈ëket&lt;/strong&gt; - viszont sok sz√°ml√°t el√©gg√© id≈ëig√©nyes √©s f√°raszt√≥ lenne let√∂lt√∂getni egyes√©vel, √©rdemes a &lt;strong&gt;feladatot automatiz√°lni.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Miel≈ëtt belefogtam a projektbe, az√©rt k√∂rben√©ztem, √©s nem meglep≈ë m√≥don nem nekem jutott eszembe el≈ësz√∂r egy D√≠jnet sz√°mla let√∂lt≈ë szkript meg√≠r√°sa. GitHub-on 2-3 rep√≥t tal√°ltam, ezek k√∂z√ºl a &lt;a href=&quot;https://github.com/wolandmaster/dijnet-dump&quot;&gt;wolandmaster/dijnet-dump&lt;/a&gt; megval√≥s√≠t√°s ahogy l√°tom, viszonylag frissen is van tartva. √ân ezt nem pr√≥b√°ltam ki, mert kih√≠v√°st √©reztem abban, hogy magam is √∂sszerakjak egy ilyen programot null√°r√≥l, els≈ësorban saj√°t c√©lra, saj√°t ig√©nyek szerint.&lt;/p&gt;

&lt;h2 id=&quot;megold√°som&quot;&gt;Megold√°som&lt;/h2&gt;

&lt;p&gt;Neki√ºltem teh√°t √∂sszerakni a saj√°t crawler-emet. El≈ësz√∂r Bash-ban csin√°ltam meg &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;curl&lt;/code&gt;-el, de azt√°n Node.js-re v√°ltottam, f≈ëk√©nt az√©rt, mert ott k√©nyelmesen tudok HTML-t is parszolni, illetve k√∂nnyebben futtathat√≥ lesz a szkript Windows-on is. Csak &lt;a href=&quot;https://nodejs.org/en/&quot;&gt;Node.js&lt;/a&gt;-t kell telep√≠teni hozz√°.&lt;/p&gt;

&lt;p&gt;√ñsszeraktam a &lt;strong&gt;D√≠jnet botot&lt;/strong&gt;, amely &lt;strong&gt;automatikusan le tudja t√∂lteni az √∂sszes D√≠jnet-en lev≈ë sz√°ml√°mat √©s azok minden f√°jlj√°t&lt;/strong&gt;, vagyis √≠gy meglesz a g√©pen minden sz√°mla PDF √©s XML form√°tumban, illetve a terhel√©si √∂sszes√≠t≈ëk is, ahol van ilyen. A &lt;strong&gt;f√°jlokat mapp√°zza szolg√°ltat√≥, szolg√°ltat√°si azonos√≠t√≥ √©s d√°tum szerint.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Grafikus fel√ºletet nem csin√°ltam neki, &lt;strong&gt;parancssorb√≥l futtathat√≥&lt;/strong&gt;. A be√°ll√≠t√°sokat √©s a bejelentkez√©si adatokat f√°jlb√≥l olvassa, √≠gy ide√°lis arra is, hogy &lt;strong&gt;√ºtemezett feladatk√©nt&lt;/strong&gt; legyen futtatva.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/juzraai/dijnet-bot/&quot;&gt;A program r√©szletesebb le√≠r√°ssal egy√ºtt GitHub-on √©rhet≈ë el.&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;N√°lam gy√∂ny√∂r≈±en m≈±k√∂dik, legal√°bbis UPC, FVM √©s FCSM sz√°ml√°kkal nincs gondja.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/dijnet-bot/dijnet-bot-run.png&quot;&gt;&lt;img src=&quot;/assets/dijnet-bot/dijnet-bot-run.png&quot; alt=&quot;D√≠jnet bot fut√°s&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;neh√©zs√©gek&quot;&gt;Neh√©zs√©gek&lt;/h2&gt;

&lt;p&gt;Fura volt, hogy a D√≠jneten meg kell nyitni a sz√°mla keres≈ë ≈±rlapot, miel≈ëtt elk√ºlden√©m az adatait, illetve a sz√°mla list√°hoz is vissza kell t√©rni minden sz√°mla ut√°n, hogy a k√∂vetkez≈ëre r√°mehessek. √çgy sajnos j√≥val t√∂bb request-be ker√ºl az eg√©sz proced√∫ra, mint egy √°tlagos weboldal eset√©ben.&lt;/p&gt;

&lt;p&gt;Figyelni kellett a HTTP header-√∂kre is, bizonyos URL-ekre kontent n√©lk√ºli lapot dob a szerver, ha hi√°nyzik az &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Accept&lt;/code&gt; √©s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Accept-Language&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;A karakterk√≥dol√°s is el√©g fura, amit haszn√°lnak. Na ennek a nyitj√°ra m√©g nem j√∂ttem r√°, pr√≥b√°ltam jobbra-balra konvert√°lni, de csak nem kaptam sz√©p ≈ë/≈± bet≈±ket. Egyel≈ëre √∫gy hidaltam √°t, hogy az √©kezeteket leveszem (√° ¬ª a), az ismeretlen karaktereket meg kidob√°lom.&lt;/p&gt;

&lt;h2 id=&quot;tervek&quot;&gt;Tervek&lt;/h2&gt;

&lt;p&gt;Az√©rt van m√©g p√°r √∂tlet a tarsolyomban a D√≠jnet bot tov√°bbfejleszt√©s√©hez. Gondolkozom azon, hogy &lt;strong&gt;valamif√©le statisztik√°t&lt;/strong&gt; is gener√°lhatna a sz√°mla inf√≥k alapj√°n. P√©ld√°ul √°tlagolhatn√° a havi kiad√°st, vagy tehetne javaslatot az &lt;strong&gt;optim√°lis sz√°mlafizet√©si napra,&lt;/strong&gt; amikor min√©l t√∂bb sz√°ml√°t ki tudok fizetni egyetlen kattint√°ssal √©s tranzakci√≥val.&lt;/p&gt;</content><author><name>Zsolt Jur√°nyi</name></author><category term="automation" /><category term="backup" /><category term="bot" /><category term="crawler" /><category term="d√≠jnet" /><category term="invoice" /><category term="nodejs" /><category term="project" /><category term="script" /><summary type="html">A probl√©ma</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://juzraai.github.io/assets/dijnet-bot/dijnet-bot-run.png" /><media:content medium="image" url="https://juzraai.github.io/assets/dijnet-bot/dijnet-bot-run.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="hu_HU"><title type="html">Nyomdak√©sz PDF el≈ë√°ll√≠t√°sa</title><link href="https://juzraai.github.io/blog/2018/nyomdakesz-pdf-eloallitasa/" rel="alternate" type="text/html" title="Nyomdak√©sz PDF el≈ë√°ll√≠t√°sa" /><published>2018-11-20T00:00:00-06:00</published><updated>2018-11-21T10:59:47-06:00</updated><id>https://juzraai.github.io/blog/2018/nyomdakesz-pdf-eloallitasa</id><content type="html" xml:base="https://juzraai.github.io/blog/2018/nyomdakesz-pdf-eloallitasa/">&lt;h2 id=&quot;bevezet√©s&quot;&gt;Bevezet√©s&lt;/h2&gt;

&lt;p&gt;Kiss√© rendhagy√≥ ez a poszt, de ki mondta, hogy csak programoz√°sr√≥l fogok √≠rni? üòú Messze nem vagyok profi ezen a t√©ren, de egyszer≈±bb vektorgrafik√°kat olykor √∂sszet√°kolok, ha sz√ºks√©gem van r√° √©s nem bonyolult a feladat. Egyr√©szt √©lvezem is, m√°sr√©szt √≠gy ingyen van. A honlapom log√≥j√°t √©s a kapcsol√≥d√≥ social media k√©peket &lt;a href=&quot;https://inkscape.org/&quot;&gt;Inkscape&lt;/a&gt;-ben raktam √∂ssze. M√°r p√°r h√≥napja megterveztem a n√©vjegyk√°rty√°mat, illetve a minap egy c√©gt√°bl√°t k√©sz√≠tettem √©s gy√°rtattam le.&lt;/p&gt;

&lt;p&gt;Fontos, hogy amikor nyomd√°t keres√ºnk, n√©zz√ºk meg az &lt;strong&gt;anyaglead√°si √∫tmutat√≥jukat,&lt;/strong&gt; ahol le√≠rj√°k, milyen form√°tumokat fogadnak el, milyen krit√©riumok ment√©n. A legt√∂bb helyen a &lt;strong&gt;nyomtat√°sra k√©sz&lt;/strong&gt; form√°tumot prefer√°lj√°k (PDF), de l√°ttam olyan c√©get is, ahol aj√°nlottak egy speci√°lis programot √©s annak a ment√©s√©b≈ël (is) tudnak dolgozni. Adott esetben v√°g√≥jeleket is k√©rhetnek - na ehhez m√©g nem √©rtek, de 2 egyszer≈± m≈±veletet bemutatok al√°bb Inkscape haszn√°lat√°val.&lt;/p&gt;

&lt;h2 id=&quot;sz√∂vegek&quot;&gt;Sz√∂vegek&lt;/h2&gt;

&lt;p&gt;Ha a grafik√°nk sz√∂veget is tartalmaz, nyilv√°n egy sz√©p bet≈±t√≠pust is v√°lasztottunk hozz√°, amit adott esetben mi is k√©zzel telep√≠tett√ºnk a g√©p√ºnkre. Innen k√∂vetkezik, hogy a nyomd√°ban sem lesz jelen az a font, ott is telep√≠teni k√©ne. E probl√©ma felold√°s√°ra 2 f√©le megold√°s l√©tezik:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;vagy be√°gyazzuk a bet≈±t√≠pusokat a PDF-be&lt;/li&gt;
  &lt;li&gt;vagy ‚Äúleg√∂rb√©zz√ºk a sz√∂vegeket‚Äù.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A nyomd√°k t√∂bbnyire az ut√≥bbit javasolj√°k. Ez annyit tesz, hogy a feliratokat √∫tvonalakk√° (&lt;em&gt;path&lt;/em&gt;), azaz g√∂rb√©kk√© konvert√°ljuk, √≠gy &lt;strong&gt;grafikak√©nt lesznek t√°rolva&lt;/strong&gt;, √©s nem bet≈±t√≠pust ig√©nyl≈ë sz√∂vegk√©nt. Inkscape-ben erre 2 m√≥d is van:&lt;/p&gt;

&lt;p&gt;Egyr√©szt a &lt;em&gt;Path&lt;/em&gt; men√º &lt;em&gt;Object to Path&lt;/em&gt; (&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;C&lt;/kbd&gt;) men√ºpontj√°val a kijel√∂lt text objektumot sz√∂vegb≈ël g√∂rb√©v√© lehet konvert√°lni egy mozdulattal. Ennek a megold√°snak az a h√°tr√°nya, hogy ezut√°n a sz√∂veg m√°r nem szerkeszthet≈ë sz√∂vegk√©nt. Viszont √∫tvonalk√©nt igen, teh√°t √ºgyesebbek tuningolhatj√°k k√©zzel a bet≈±ket.&lt;/p&gt;

&lt;p&gt;M√°sik megold√°s, hogy amikor a &lt;em&gt;Save As‚Ä¶&lt;/em&gt; opci√≥val elmentj√ºk PDF f√°jlba a grafik√°t, kiv√°lasztjuk a &lt;em&gt;Convert text to path&lt;/em&gt; opci√≥t az ablakban, amit az Inkscape feldob. Ezzel a m√≥dszerrel &lt;strong&gt;csak a kimeneti f√°jlban alakulnak √°t&lt;/strong&gt; a sz√∂vegek, a sz√∂veg szerkeszthet≈ë marad a programban.&lt;/p&gt;

&lt;style&gt;.content img { width: auto; }&lt;/style&gt;

&lt;p&gt;&lt;a href=&quot;/assets/inkscape/inkscape-pdf.png&quot;&gt;&lt;img src=&quot;/assets/inkscape/inkscape-pdf.png&quot; alt=&quot;Inkscape PDF options&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;sz√≠nek&quot;&gt;Sz√≠nek&lt;/h2&gt;

&lt;p&gt;A legt√∂bb anyaglead√°si √∫tmutat√≥ban azt is k√©rik, hogy a PDF-ben CMYK sz√≠nteret haszn√°ljunk, mely pontosabban le√≠rja, hogyan keverje a sz√≠neket a nyomtat√≥. Az Inkscape nem CMYK alakban menti a sz√≠neket, illetve az ezt lehet≈ëv√© tev≈ë &lt;a href=&quot;http://wiki.inkscape.org/wiki/index.php/ExportPDFCMYK&quot;&gt;plugin&lt;/a&gt; csak Linux-ra el√©rhet≈ë.&lt;/p&gt;

&lt;p&gt;Windows-on azt lehet csin√°lni, hogy feltelep√≠tj√ºk a &lt;a href=&quot;https://www.ghostscript.com/download/gsdnld.html&quot;&gt;GhostScript&lt;/a&gt;-et, √©s megk√©rj√ºk r√°, hogy az Inkscape-b≈ël kimentett PDF-et alak√≠tsa √°t CMYK sz√≠neket tartalmaz√≥ PDF-re:&lt;/p&gt;

&lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;c:\Program Files\gs\gs9.25\bin\gswin64.exe&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;KIMENETI F√ÅJL √öTVONALA&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-sDEVICE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;pdfwrite&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-dUseCIEColor&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-sProcessColorModel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;DeviceCMYK&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-sColorConversionStrategy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;CMYK&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-sColorConversionStrategyForImages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;CMYK&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;BEMENETI F√ÅJL √öTVONALA&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Zsolt Jur√°nyi</name></author><category term="cmyk" /><category term="ghostscript" /><category term="inkscape" /><category term="pdf" /><category term="printing" /><category term="vector-graphics" /><summary type="html">Bevezet√©s</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://juzraai.github.io/assets/facebook-og-image.png" /><media:content medium="image" url="https://juzraai.github.io/assets/facebook-og-image.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="hu_HU"><title type="html">Lok√°lis rep√≥k import√°l√°sa Gitea-be</title><link href="https://juzraai.github.io/blog/2018/lokalis-repok-importalasa-gitea-be/" rel="alternate" type="text/html" title="Lok√°lis rep√≥k import√°l√°sa Gitea-be" /><published>2018-11-04T00:00:00-05:00</published><updated>2023-09-24T10:27:05-05:00</updated><id>https://juzraai.github.io/blog/2018/lokalis-repok-importalasa-gitea-be</id><content type="html" xml:base="https://juzraai.github.io/blog/2018/lokalis-repok-importalasa-gitea-be/">&lt;h2 id=&quot;bevezet√©s&quot;&gt;Bevezet√©s&lt;/h2&gt;

&lt;p&gt;A Gitea komolyabb haszn√°lata el≈ëtt √©rdemes &lt;strong&gt;v√©gigolvasni az &lt;a href=&quot;https://docs.gitea.io/en-us/config-cheat-sheet/&quot;&gt;√∂sszes be√°ll√≠t√°si lehet≈ës√©get&lt;/a&gt;&lt;/strong&gt;, ugyanis ez a kulcs sokmindenhez, bizonyos dolgok sehol m√°shol nincsenek dokument√°lva. A Gitea-s doksi nem valami seg√≠t≈ëk√©sz, nem √≠r k√ºl√∂n a funkci√≥kr√≥l √©s azok haszn√°lat√°r√≥l, megk√∂t√©seir≈ël. √çgy van ez a rep√≥ import√°l√°ssal is.&lt;/p&gt;

&lt;p&gt;Az alapszitu az, hogy a Gitea &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gitea-repositories&lt;/code&gt; mapp√°j√°ba sajnos nem el√©g √©s nem is c√©lravezet≈ë csak sim√°n bem√°solni egy bare repository-t. Ugyanis a Gitea csak azokat a rep√≥kat kezeli, amiket ≈ë nyilv√°ntart√°sba vett az &lt;strong&gt;adatb√°zis√°ban,&lt;/strong&gt; √©s egy√©bk√©nt is &lt;strong&gt;saj√°t Git hook-okat&lt;/strong&gt; haszn√°l. Vagyis a Gitea UI-r√≥l kell ≈ëket l√©trehozni, nincs mese.&lt;/p&gt;

&lt;h2 id=&quot;migr√°l√°s&quot;&gt;Migr√°l√°s&lt;/h2&gt;

&lt;p&gt;Szerencs√©re a fel√ºlet biztos√≠t egy migr√°l√°s opci√≥t (fent a ‚Äú+‚Äù ikon leny√≠l√≥ men√ºj√©ben). Ennek a funkci√≥nak azonban vannak tr√ºkkjei.&lt;/p&gt;

&lt;p&gt;Egyr√©szt, mint ahogy p√°r sikertelen pr√≥b√°lkoz√°s ut√°n egy &lt;a href=&quot;https://github.com/go-gitea/gitea/issues/1635&quot;&gt;GitHub issue&lt;/a&gt;-b√≥l megtudtam, az &lt;strong&gt;SSH nem t√°mogatott&lt;/strong&gt; enn√©l a funkci√≥n√°l.&lt;/p&gt;

&lt;p&gt;M√°sr√©szt, k√≠nj√°ban az ember kipr√≥b√°lja m√°r a &lt;strong&gt;local path&lt;/strong&gt;-t is, amikre a rendszer szint√©n visszapof√°zik, miszerint ez &lt;strong&gt;nem enged√©lyezett&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;A &lt;em&gt;Site Administration &amp;gt; User Accounts&lt;/em&gt; oldalon a saj√°t &lt;strong&gt;fi√≥kom szerkeszt√©s√©n√©l,&lt;/strong&gt; a lap alj√°n van egy &lt;em&gt;May import local repositories&lt;/em&gt; jel√∂l≈ën√©gyzet. Ha ezt bepip√°lom √©s elmentem, csak egy pillanatig √©rzem a rem√©ny √©des √≠z√©t, mert amint √∫jrat√∂lt≈ëdik a lap, a pipa elt≈±nik. √âs persze az import√°l√°s nem m≈±k√∂dik. Mindennek ellen√©re az adatb√°zisban (megn√©ztem), a megfelel≈ë flag-et √°tbillentette 1-esre, teh√°t elmentette, csak nem jelen√≠ti meg‚Ä¶&lt;/p&gt;

&lt;p&gt;‚Ä¶mert van egy &lt;strong&gt;glob√°lis tilt√°s is.&lt;/strong&gt; √âs ezt √©n egyetlen egy helyen l√°ttam le√≠rva (amit j√≥val azut√°n n√©ztem meg, hogy belet≈ër√∂dtem a kudarcba), a &lt;a href=&quot;https://docs.gitea.io/en-us/config-cheat-sheet/&quot;&gt;Config Cheat Sheet&lt;/a&gt;-en, ahol felsorolja az √∂sszes param√©tert:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IMPORT_LOCAL_PATHS&lt;/code&gt;: &lt;strong&gt;false:&lt;/strong&gt; Prevent all users (including admin) from importing local path on server.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Vagyis:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;A &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;custom/conf/app.ini&lt;/code&gt; konfigf√°jlban enged√©lyezni kell glob√°lisan a lok√°lis importot:&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[security]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;IMPORT_LOCAL_PATHS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;A fel√ºleten, a &lt;em&gt;Site Administration &amp;gt; User Accounts&lt;/em&gt; alatt a saj√°t fi√≥kunk szerkeszt√©s√©n√©l (&lt;em&gt;Edit&lt;/em&gt;) egy√©nileg is enged√©lyezni kell ezt, a &lt;em&gt;May import local repositories&lt;/em&gt; jel√∂l≈ën√©gyzet bepip√°l√°s√°val tehetj√ºk meg&lt;/li&gt;
  &lt;li&gt;Ezut√°n m√°r megadhatunk a migr√°l√°sn√°l helyi √∫tvonalat, pl. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/home/me/bare-repos/repo1&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Migr√°l√°skor a Gitea gyakorlatilag csin√°l egy m√°solatot a megadott rep√≥r√≥l a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gitea-repositories&lt;/code&gt;-ba √©s regisztr√°lja az adatb√°zisba.&lt;/p&gt;

&lt;h2 id=&quot;git-m√≥dszer&quot;&gt;Git m√≥dszer&lt;/h2&gt;

&lt;p&gt;Term√©szetesen Git parancsokkal is migr√°lhatunk, k√≠v√ºlr≈ël:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone &lt;span class=&quot;nt&quot;&gt;--mirror&lt;/span&gt; OLD_REPO_URL
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;OLD_REPO.git
git remote set-url origin http://GITEA_DOMAIN/GITEA_USER/NEW_REPO.git
git push &lt;span class=&quot;nt&quot;&gt;--mirror&lt;/span&gt; origin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Viszont a push el≈ëtt a fentebb √≠rtak miatt &lt;strong&gt;el≈ëbb l√©tre kell hozni a rep√≥t&lt;/strong&gt; a Gitea webes fel√ºlet√©n.&lt;/p&gt;</content><author><name>Zsolt Jur√°nyi</name></author><category term="config" /><category term="git" /><category term="gitea" /><category term="import" /><category term="migrate" /><category term="server" /><category term="web-ui" /><summary type="html">Bevezet√©s</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://juzraai.github.io/assets/facebook-og-image.png" /><media:content medium="image" url="https://juzraai.github.io/assets/facebook-og-image.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="hu_HU"><title type="html">Kontakt form ingyen, Basin-nel</title><link href="https://juzraai.github.io/blog/2018/kontakt-form-basin-nel/" rel="alternate" type="text/html" title="Kontakt form ingyen, Basin-nel" /><published>2018-06-03T00:00:00-05:00</published><updated>2018-11-07T15:00:36-06:00</updated><id>https://juzraai.github.io/blog/2018/kontakt-form-basin-nel</id><content type="html" xml:base="https://juzraai.github.io/blog/2018/kontakt-form-basin-nel/">&lt;p&gt;A &lt;a href=&quot;/blog/2018/kontakt-form-ingyen&quot;&gt;minap √≠rtam&lt;/a&gt; arr√≥l, milyen ingyenes lehet≈ës√©gek vannak arra, hogy egy statikus honlapra kontakt formot illessz√ºnk, amely emailt k√ºld. Kipr√≥b√°ltam a &lt;a href=&quot;https://usebasin.com/&quot;&gt;Basin&lt;/a&gt;-t, aminek l√°tatlanban arany√©rmet osztottam. √çme a tapasztalataim. üôÇ&lt;/p&gt;

&lt;h2 id=&quot;els≈ë-l√©p√©sek&quot;&gt;Els≈ë l√©p√©sek&lt;/h2&gt;

&lt;p&gt;A sign up oldal l√©nyegret√∂r≈ë, csak az email c√≠memet k√©ri √©s persze a leend≈ë jelszavamat. Az email c√≠met persze meg kell er≈ës√≠teni, ut√°na enged csak bejelentkezni.&lt;/p&gt;

&lt;p&gt;Bejelentkez√©s ut√°n bej√∂n az √ºres dashboard. Miel≈ëtt l√©trehoztam az ≈±rlapomat, megn√©ztem az &lt;em&gt;Account settings&lt;/em&gt; men√ºpontot. Az email c√≠men √©s a jelsz√≥n k√≠v√ºl ott sincs semmi extra, csak egy lehet≈ës√©g a marad√©ktalan t√∂rl√©sre.&lt;/p&gt;

&lt;p&gt;Amikor l√©trehozunk egy √∫j formot, el≈ësz√∂r 2 dolgot k√©r be: a form nev√©t (amit a dashboard-on l√°tunk majd), illetve a &lt;strong&gt;redirect URL-t,&lt;/strong&gt; ahov√° a l√°togat√≥kat k√ºldi majd a rendszer a form elk√ºld√©se ut√°n. Ha ezut√≥bbit √ºresen hagyjuk, a Basin a saj√°t oldal√°ra visz alap√©rtelmez√©sk√©nt.&lt;/p&gt;

&lt;p&gt;Amint l√©trehoztuk a formot, az megny√≠lik a fel√ºleten, egyb≈ël az √ºres &lt;em&gt;Submissions&lt;/em&gt; panelt kapjuk meg. Az m√°r l√°tszik, hogy a be√©rkezett √ºzeneteket &lt;strong&gt;lehet sz≈±rni, t√∂r√∂lni, illetve spam-nek jel√∂lni.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;A &lt;em&gt;Setup&lt;/em&gt; f√ºl√∂n &lt;strong&gt;konkr√©t HTML k√≥dokat mutat,&lt;/strong&gt; amivel t√©nyleg csak copy-paste m√≥don be lehet illeszteni a honlapba az ≈±rlapot. Van snippet a kattint√≥s Google captcha-hoz, √©s a l√°thatatlan verzi√≥hoz is.&lt;/p&gt;

&lt;p&gt;Az &lt;em&gt;Edit&lt;/em&gt; f√ºl√∂n tov√°bbi be√°ll√≠t√°sokat tal√°lunk az ≈±rlaphoz:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;meg lehet adni &lt;strong&gt;t√∂bb whitelisted domaint&lt;/strong&gt;, ahonnan enged√©lyezz√ºk a form k√ºld√©st&lt;/li&gt;
  &lt;li&gt;be lehet kapcsolni a valid captcha v√°lasz megk√∂vetel√©s√©t&lt;/li&gt;
  &lt;li&gt;illetve van lehet≈ës√©g GDPR kompatibilis &lt;strong&gt;nyugt√°t visszak√ºldeni az adatok fogad√°s√°r√≥l&lt;/strong&gt; a k√ºld≈ënek&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Az &lt;em&gt;Email&lt;/em&gt; f√ºl√∂n √°t√°ll√≠thatjuk a c√©l email c√≠met, ahov√° az ≈±rlapadatokat k√©rj√ºk k√ºldeni. Ez alap√©rtelmez√©sk√©nt a regisztr√°ci√≥kor megadott email c√≠m. Tov√°bb√° megadhatunk &lt;strong&gt;CC-t, egy√©ni k√ºld√∂ nevet&lt;/strong&gt; (&lt;em&gt;‚ÄúBasin‚Äù&lt;/em&gt; helyett) √©s a &lt;strong&gt;t√°rgy is szerkeszthet≈ë.&lt;/strong&gt; A t√°rgy alap√©rtelmez√©sk√©nt a form neve + &lt;em&gt;‚ÄúYou‚Äôve received a submission&lt;/em&gt;.&lt;/p&gt;

&lt;h2 id=&quot;tesztel√©s&quot;&gt;Tesztel√©s&lt;/h2&gt;

&lt;p&gt;Bekapcsoltam a captcha-t √©s a receipt-et, √©s √∂sszeraktam a formot a l√°thatatlan captcha-val. Zseni√°lis, hogy &lt;strong&gt;tesztelhet≈ë localhost-r√≥l is.&lt;/strong&gt; Elk√ºldtem a formot, √©s a megadott URL-re ir√°ny√≠tott a rendszer. A lev√©l p√°r m√°sodperc m√∫lva meg√©rkezett arra email c√≠memre, amivel a &lt;a href=&quot;https://usebasin.com/&quot;&gt;Basin&lt;/a&gt;-be regisztr√°ltam. Sz√©pen form√°zva mutat minden fontos inform√°ci√≥t:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/basin/basin-submission-email.png&quot;&gt;&lt;img src=&quot;/assets/basin/basin-submission-email.png&quot; alt=&quot;Basin submission email&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A reply-to is korrekt√ºl be van √°ll√≠tva, egy kattint√°ssal tudok v√°laszolni a formon megadott email c√≠mre.&lt;/p&gt;

&lt;p&gt;A formon be√≠rt email c√≠mre is j√∂tt egy lev√©l, ami &lt;strong&gt;nyugt√°zza, hogy milyen adatokat k√ºldtem √©s hova,&lt;/strong&gt; √©s m√©g ezzel kapcsolatos k√©relmekhez is biztos√≠t lehet≈ës√©get:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/basin/basin-receipt-email.png&quot;&gt;&lt;img src=&quot;/assets/basin/basin-receipt-email.png&quot; alt=&quot;Basin receipt email&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A &lt;em&gt;Submissions&lt;/em&gt; panelen is megjelentek ezek az inform√°ci√≥k term√©szetesen. Tov√°bb n√©zve a funkci√≥kat, az &lt;em&gt;Export&lt;/em&gt; panelen a bek√ºld√∂tt form adatok &lt;strong&gt;let√∂lthet≈ëek CSV-ben, illetve JSON-ban is&lt;/strong&gt; egy API key seg√≠ts√©g√©vel. Az &lt;em&gt;Integrations&lt;/em&gt; f√ºl√∂n lehet &lt;a href=&quot;https://zapier.com/&quot;&gt;Zapier&lt;/a&gt;-hez kapcsol√≥dni, de ezt most nem teszem meg, a c√©lt el√©rt√ºk.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Az arany√©rem jogos volt! A &lt;a href=&quot;https://usebasin.com/&quot;&gt;Basin&lt;/a&gt; professzion√°lis, k√∂nnyen kezelhet≈ë, felhaszn√°l√≥bar√°t, GDPR-ready, ingyenes szolg√°ltat√°s.&lt;/strong&gt; üèÜ&lt;/p&gt;

&lt;p&gt;Pontosan erre volt sz√ºks√©gem.&lt;/p&gt;

&lt;h2 id=&quot;kieg√©sz√≠t√©s&quot;&gt;Kieg√©sz√≠t√©s&lt;/h2&gt;

&lt;p&gt;Egy apr√≥ kieg√©sz√≠t√©sre sz√ºks√©g van, a &lt;a href=&quot;https://developers.google.com/recaptcha/&quot;&gt;Google reCAPTCHA&lt;/a&gt; helyes m≈±k√∂d√©s√©hez. A &lt;a href=&quot;https://usebasin.com/&quot;&gt;Basin&lt;/a&gt; √°ltal adott code snippet √∫gy m≈±k√∂dik, hogy a k√ºld√©s gomb kattint√°s esem√©ny√©t a reCAPTCHA kezeli le, √©s &lt;strong&gt;egyb≈ël elk√ºldi&lt;/strong&gt; az ≈±rlapot. Ez akkor okoz probl√©m√°t, &lt;strong&gt;ha szeretn√©nk valid√°lni a formot,&lt;/strong&gt; ak√°r nat√≠van, ak√°r saj√°t JS k√≥ddal. A &lt;strong&gt;megold√°st&lt;/strong&gt; &lt;a href=&quot;https://stackoverflow.com/a/41694352/2418224&quot;&gt;ez a v√°lasz&lt;/a&gt; adja meg, bemutatom:&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;invisible-recaptcha-form&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;accept-charset=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;action=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://usebasin.com/f/...&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;method=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;

	&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- input elemek --&amp;gt;&lt;/span&gt;

	&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;g-recaptcha&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;data-sitekey=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;...&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;data-callback=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;onSubmit&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;data-badge=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;inline&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;data-size=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;invisible&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nt&quot;&gt;&amp;lt;button&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;btn btn-primary&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;K√ºld√©s&lt;span class=&quot;nt&quot;&gt;&amp;lt;/button&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://www.google.com/recaptcha/api.js&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;invisible-recaptcha-form&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;submit&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;grecaptcha&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;reset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;grecaptcha&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;onSubmit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;invisible-recaptcha-form&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;submit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mit csin√°ltam a &lt;a href=&quot;https://usebasin.com/&quot;&gt;Basin&lt;/a&gt; k√≥dj√°hoz k√©pest:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g-recaptcha&lt;/code&gt; class-t levettem a k√ºld√©s gombr√≥l, √©s egy √∫j &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;div&amp;gt;&lt;/code&gt;-re raktam r√°.&lt;/li&gt;
  &lt;li&gt;Ebbe a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;div&amp;gt;&lt;/code&gt; elembe √°tvittem a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data-*&lt;/code&gt; attrib√∫tumokat, illetve hozz√° is adtam egyet: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data-size=&quot;invisible&quot;&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;A szkripthez hozz√°adtam egy esem√©nykezel≈ët, ami a form elk√ºld√©sekor fut le, √©s megh√≠vja a captcha-t.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;√çgy a k√ºld√©s gombra kattint√°skor a k√∂vetkez≈ë fog t√∂rt√©nni:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;El≈ësz√∂r a b√∂ng√©sz≈ë nat√≠v valid√°l√°si mechanizmusa fut le.&lt;/li&gt;
  &lt;li&gt;Azt√°n az esem√©nykezel≈ë inicializ√°lja a captcha-t.&lt;/li&gt;
  &lt;li&gt;A captcha elhelyezi a v√°laszt a formban, majd megh√≠vja a callback-et, ami elk√ºldi a form-ot.&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Zsolt Jur√°nyi</name></author><category term="basin" /><category term="captcha" /><category term="email" /><category term="form" /><category term="serverless" /><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://juzraai.github.io/assets/facebook-og-image.png" /><media:content medium="image" url="https://juzraai.github.io/assets/facebook-og-image.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="en_US"><title type="html">Free contact form using Basin</title><link href="https://juzraai.github.io/blog/2018/contact-form-using-basin/" rel="alternate" type="text/html" title="Free contact form using Basin" /><published>2018-06-03T00:00:00-05:00</published><updated>2018-12-13T17:47:19-06:00</updated><id>https://juzraai.github.io/blog/2018/contact-form-using-basin</id><content type="html" xml:base="https://juzraai.github.io/blog/2018/contact-form-using-basin/">&lt;p&gt;My &lt;a href=&quot;/blog/2018/contact-form-for-free&quot;&gt;previous post&lt;/a&gt; was about free contact form solutions that can send email. I tried out &lt;a href=&quot;https://usebasin.com/&quot;&gt;Basin&lt;/a&gt; which was before my gold medal winner based on its website only. Here are my experiences. üôÇ&lt;/p&gt;

&lt;h2 id=&quot;first-steps&quot;&gt;First steps&lt;/h2&gt;

&lt;p&gt;The sign up page is minimal, it only asks for my email address and my new password. Of course, email address needs to be confirmed before I can login.&lt;/p&gt;

&lt;p&gt;After logging in, the dashboard is displayed. Before I created my form, I checked what‚Äôs inside &lt;em&gt;Account settings&lt;/em&gt;. Besides the email address and password change, there‚Äôs only a button for complete removal.&lt;/p&gt;

&lt;p&gt;At form creation, it asks 2 things: the name of the form (displayed on the dashboard), and the &lt;strong&gt;redirect URL&lt;/strong&gt; where visitors will be sent after filling out the form. If we leave it blank, Basin will show its own page as a default.&lt;/p&gt;

&lt;p&gt;After I created my form, it was opened in the interface with an empty &lt;em&gt;Submissions&lt;/em&gt; panel. There I already saw that incoming submissions can be &lt;strong&gt;filtered, deleted and marked as spam.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Setup&lt;/em&gt; tabs &lt;strong&gt;shows HTML code snippets&lt;/strong&gt; which helps to implement the form on a website just by copy-pasting. There are snippets for both the clickable and the invisible Google captcha.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Edit&lt;/em&gt; tab provides additional settings of the form:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;multiple whitelisted domains&lt;/strong&gt; can be specified, from where form submissions are allowed&lt;/li&gt;
  &lt;li&gt;required captcha can be turned on&lt;/li&gt;
  &lt;li&gt;and also there‚Äôs an opportunity to send GDPR compliant &lt;strong&gt;data receipt to the sender&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;On the &lt;em&gt;Email&lt;/em&gt; tab, the target email address can be modified, where form data should be sent. It‚Äôs the registered email address by default. Also, there are options to specify &lt;strong&gt;CC and custom sender name&lt;/strong&gt; (instead of &lt;em&gt;‚ÄúBasin‚Äù&lt;/em&gt;), and &lt;strong&gt;subject is editable too.&lt;/strong&gt; Subject is the form‚Äôs name + &lt;em&gt;‚ÄúYou‚Äôve received a submission‚Äù&lt;/em&gt; by default.&lt;/p&gt;

&lt;h2 id=&quot;testing&quot;&gt;Testing&lt;/h2&gt;

&lt;p&gt;I turned on captcha and receipt sending and implemented the form with the invisible captcha. It‚Äôs super cool that I can &lt;strong&gt;test it from localhost.&lt;/strong&gt; I submitted the form and it correctly redirected to my URL. The email arrived a few seconds later to my address. The email is formatted nicely and contains every important detail:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/basin/basin-submission-email.png&quot;&gt;&lt;img src=&quot;/assets/basin/basin-submission-email.png&quot; alt=&quot;Basin submission email&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Reply-to is working properly too, I can answer to the email address typed in the form with a single click.&lt;/p&gt;

&lt;p&gt;An email arrived also to the address I typed in the form. It &lt;strong&gt;tells what data I sent to where,&lt;/strong&gt; and it provides a button where a data removal request can be filed:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/basin/basin-receipt-email.png&quot;&gt;&lt;img src=&quot;/assets/basin/basin-receipt-email.png&quot; alt=&quot;Basin receipt email&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Submitted information appeared also on the &lt;em&gt;Submissions&lt;/em&gt; tab as expected. Looking further, there‚Äôs the &lt;em&gt;Export&lt;/em&gt; tab where I can &lt;strong&gt;download form submissions in CSV or JSON&lt;/strong&gt; using an API key. Finally, &lt;a href=&quot;https://zapier.com/&quot;&gt;Zapier&lt;/a&gt; connection can be set up on the &lt;em&gt;Integrations&lt;/em&gt; tab, but I didn‚Äôt do this, I reached my goal.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://usebasin.com/&quot;&gt;Basin&lt;/a&gt; deserves my gold prize. It‚Äôs a professional, easy-to-use, user friendly, GDPR-ready, free service.&lt;/strong&gt; üèÜ&lt;/p&gt;

&lt;p&gt;This is what I was looking for.&lt;/p&gt;

&lt;h2 id=&quot;addition&quot;&gt;Addition&lt;/h2&gt;

&lt;p&gt;A little addition is needed for &lt;a href=&quot;https://developers.google.com/recaptcha/&quot;&gt;Google reCAPTCHA&lt;/a&gt; to work properly. Code snippet provided by &lt;a href=&quot;https://usebasin.com/&quot;&gt;Basin&lt;/a&gt; works in a way that submit button‚Äôs click event is handled by reCAPTCHA and it &lt;strong&gt;submits the form immediately.&lt;/strong&gt; This is a problem when you need &lt;strong&gt;form validation&lt;/strong&gt;, either natively or via a JS library. I found a &lt;a href=&quot;https://stackoverflow.com/a/41694352/2418224&quot;&gt;solution here&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;invisible-recaptcha-form&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;accept-charset=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;action=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://usebasin.com/f/...&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;method=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;

	&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- input fields --&amp;gt;&lt;/span&gt;

	&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;g-recaptcha&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;data-sitekey=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;...&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;data-callback=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;onSubmit&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;data-badge=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;inline&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;data-size=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;invisible&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nt&quot;&gt;&amp;lt;button&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;btn btn-primary&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Submit&lt;span class=&quot;nt&quot;&gt;&amp;lt;/button&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://www.google.com/recaptcha/api.js&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;invisible-recaptcha-form&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;submit&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;grecaptcha&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;reset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;grecaptcha&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;onSubmit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;invisible-recaptcha-form&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;submit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What did I do to &lt;a href=&quot;https://usebasin.com/&quot;&gt;Basin&lt;/a&gt;‚Äôs snippet:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Removed &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g-recaptcha&lt;/code&gt; class from submit button, and placed it on a new &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;div&amp;gt;&lt;/code&gt; element.&lt;/li&gt;
  &lt;li&gt;Moved &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data-*&lt;/code&gt; attributes too from the button to the new element, and added a new one: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data-size=&quot;invisible&quot;&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;I added an event handler to the script, which is triggered on form submit and calls the captcha.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When the user hits the submit button:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The browser‚Äôs native validation will run first.&lt;/li&gt;
  &lt;li&gt;Then the event handler initializes the captcha.&lt;/li&gt;
  &lt;li&gt;Captcha inserts response in the form, and calls the callback, which submits the form.&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Zsolt Jur√°nyi</name></author><category term="basin" /><category term="captcha" /><category term="email" /><category term="form" /><category term="serverless" /><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://juzraai.github.io/assets/facebook-og-image.png" /><media:content medium="image" url="https://juzraai.github.io/assets/facebook-og-image.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>